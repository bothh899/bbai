<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Chat Assistant</title>
    <meta name="description" content="Get Insightful Answers to All Your Questions" />
    <meta name="author" content="Lovable" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Base styles with CSS variables */
        :root {
            /* Color system with more modern palette */
            --background: #ffffff;
            --foreground: #111827;
            --card: #ffffff;
            --card-foreground: #111827;
            --primary: #120aa3;
            --primary-hover: #1114aa;
            --primary-foreground: #ffffff;
            --secondary: #f9fafb;
            --secondary-foreground: #0d0961;
            --muted: #260769;
            --muted-foreground: #6b7280;
            --accent: #f3f4f6;
            --accent-foreground: #0e0960;
            --destructive: #ef4444;
            --destructive-foreground: #ffffff;
            --border: #e5e7eb;
            --input: #124abc;
            --ring: #161089;
            --sidebar-width: 280px;

            /* Sizing and spacing */
            --radius: 0.75rem;
            --header-height: 4rem;
            --max-width: 1200px;
            --side-padding: 1.5rem;

            /* Animation speeds */
            --transition-fast: 0.15s;
            --transition-normal: 0.25s;
            --transition-slow: 0.4s;

            /* Shadows */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-focus: 0 0 0 4px rgba(79, 70, 229, 0.2);
        }

        .dark-theme {
            --background: #0f172a;
            --foreground: #f8fafc;
            --card: #343b1e;
            --card-foreground: #ffffff;
            --primary: #5b9016;
            --primary-hover: #a5b4fc;
            --primary-foreground: #ffffff;
            --secondary: #13166b;
            --secondary-foreground: #ffffff;
            --muted: #1e293b;
            --muted-foreground: #94a3b8;
            --accent: #1e293b;
            --accent-foreground: #f8fafc;
            --destructive: #dc2626;
            --destructive-foreground: #ffffff;
            --border: #334155;
            --input: #1e293b;
            --ring: #81f89d;

            /* Dark mode shadows */
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            --shadow-focus: 0 0 0 4px rgba(255, 255, 255, 0.3);
        }

        /* CSS Reset with modern approach */
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            border-color: var(--border);
        }

        html {
            font-size: 15px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Noto Sans Khmer', 'Battambang', 'Inter', system-ui, -apple-system,
                BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--background);
            color: var(--foreground);
            line-height: 1.6;
            letter-spacing: -0.011em;
            transition: background-color var(--transition-normal) ease, color var(--transition-normal) ease;
            min-height: 100vh;
            min-height: 100dvh;
            /* Modern viewport height for mobile */
        }

        /* Layout */
        .app-container {
            min-height: 100vh;
            min-height: 100dvh;
            display: flex;
            flex-direction: column;
        }

        /* Container with responsive gutters */
        .container-content {
            max-width: var(--max-width);
            width: 100%;
            margin: 0 auto;
            padding: 0 var(--side-padding);
        }

        /* Header with modern styling */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            background-color: rgba(255, 255, 255, 0.8);
            border-bottom: 1px solid var(--border);
            box-shadow: var(--shadow-sm);
            height: var(--header-height);
            display: flex;
            align-items: center;
        }

        .dark-theme .header {
            background-color: rgba(15, 23, 42, 0.8);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
        }

        .logo {
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
            letter-spacing: -0.03em;
        }

        /* Modern navigation styling */
        .main-nav ul {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .main-nav a {
            text-decoration: none;
            color: var(--foreground);
            opacity: 0.8;
            transition: all var(--transition-fast);
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
        }

        .main-nav a:hover,
        .main-nav a.active {
            opacity: 1;
            color: var(--primary);
        }

        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: var(--primary);
            transition: width var(--transition-normal) cubic-bezier(0.65, 0, 0.35, 1);
        }

        .main-nav a:hover::after,
        .main-nav a.active::after {
            width: 100%;
        }

        /* Auth buttons */
        .auth-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .auth-button {
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            border: none;
            font-size: 0.875rem;
        }

        .login-button {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .login-button:hover {
            background-color: rgba(18, 10, 163, 0.05);
        }

        .signup-button {
            background-color: var(--primary);
            color: var(--primary-foreground);
        }

        .signup-button:hover {
            background-color: var(--primary-hover);
        }

        /* User profile dropdown */
        .user-profile {
            position: relative;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            padding: 0.5rem 0;
            width: 200px;
            z-index: 110;
            display: none;
            border: 1px solid var(--border);
        }

        .user-profile:hover .user-dropdown {
            display: block;
        }

        .dropdown-item {
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--foreground);
            text-decoration: none;
            transition: background-color var(--transition-fast);
        }

        .dropdown-item:hover {
            background-color: var(--accent);
        }

        .dropdown-divider {
            height: 1px;
            background-color: var(--border);
            margin: 0.25rem 0;
        }

        /* Theme toggle with improved interaction */
        .theme-toggle {
            background: none;
            border: none;
            color: var(--foreground);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: all var(--transition-fast);
        }

        .theme-toggle:hover {
            background-color: var(--accent);
            transform: rotate(15deg);
        }

        .theme-toggle:active {
            transform: scale(0.92) rotate(15deg);
        }

        .theme-toggle .sun-icon {
            display: none;
        }

        .theme-toggle .moon-icon {
            display: block;
        }

        .dark-theme .theme-toggle .sun-icon {
            display: block;
        }

        .dark-theme .theme-toggle .moon-icon {
            display: none;
        }

        /* Sidebar styles */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background-color: var(--card);
            border-right: 1px solid var(--border);
            transform: translateX(-100%);
            transition: transform var(--transition-normal) ease;
            z-index: 90;
            overflow-y: auto;
            padding: 1rem 0;
        }

        .sidebar-open .sidebar {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 0 1.5rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .close-sidebar {
            background: none;
            border: none;
            color: var(--muted-foreground);
            cursor: pointer;
            font-size: 1.25rem;
        }

        .history-list {
            list-style: none;
            padding: 0;
        }

        .history-item {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            transition: background-color var(--transition-fast);
        }

        .history-item:hover {
            background-color: var(--accent);
        }

        .history-item.active {
            background-color: var(--primary);
            color: var(--primary-foreground);
        }

        .history-item-content {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-item-time {
            font-size: 0.75rem;
            color: var(--muted-foreground);
            margin-top: 0.25rem;
        }

        .history-item.active .history-item-time {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Sidebar toggle button */
        .sidebar-toggle {
            background: none;
            border: none;
            color: var(--foreground);
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: all var(--transition-fast);
            margin-right: 0.5rem;
        }

        .sidebar-toggle:hover {
            background-color: var(--accent);
        }

        /* Main content with improved spacing */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 2.5rem var(--side-padding);
            width: 100%;
            margin: 0 auto;
            max-width: var(--max-width);
            gap: 2.5rem;
            transition: margin-left var(--transition-normal);
        }

        .sidebar-open .main-content {
            margin-left: var(--sidebar-width);
        }

        /* Login modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity var(--transition-normal), visibility var(--transition-normal);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 400px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px);
            transition: transform var(--transition-normal);
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--muted-foreground);
            cursor: pointer;
            font-size: 1.5rem;
        }

        .modal-body {
            padding: 1.5rem;
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .form-input {
            padding: 0.75rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background-color: var(--background);
            color: var(--foreground);
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--shadow-focus);
        }

        .auth-submit {
            padding: 0.75rem;
            border-radius: var(--radius);
            background-color: var(--primary);
            color: var(--primary-foreground);
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: background-color var(--transition-fast);
            margin-top: 0.5rem;
        }

        .auth-submit:hover {
            background-color: var(--primary-hover);
        }

        .auth-divider {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
            color: var(--muted-foreground);
        }

        .auth-divider::before,
        .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background-color: var(--border);
        }

        .social-auth {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .social-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            background-color: var(--background);
            color: var(--foreground);
            cursor: pointer;
            transition: background-color var(--transition-fast);
        }

        .social-button:hover {
            background-color: var(--accent);
        }

        .auth-footer {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.875rem;
        }

        .auth-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        /* Intro section with modern typography and animation */
        .intro-section {
            text-align: center;
            animation: fadeIn 0.9s cubic-bezier(0.22, 1, 0.36, 1);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .intro-content {
            max-width: 36rem;
            margin: 0 auto;
        }

        /* Modern badge styling */
        .badge {
            display: inline-block;
            padding: 0.375rem 0.875rem;
            font-size: 0.75rem;
            font-weight: 600;
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-radius: 9999px;
            margin-bottom: 1.25rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            box-shadow: var(--shadow-sm);
        }

        /* Modern heading with gradient */
        .intro-content h1 {
            font-size: 2.75rem;
            font-weight: 800;
            margin-bottom: 1.25rem;
            line-height: 1.1;
            letter-spacing: -0.03em;
            background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        .intro-content p {
            color: var(--muted-foreground);
            font-size: 1.125rem;
            font-weight: 400;
            max-width: 30rem;
            margin: 0 auto;
        }

        /* Glass card with improved styling */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--radius);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-normal) cubic-bezier(0.22, 1, 0.36, 1);
        }

        .glass-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .dark-theme .glass-card {
            background-color: rgba(30, 41, 59, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Chat container with better proportions */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 65vh;
            border-radius: var(--radius);
        }

        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) transparent;
        }

        /* Modern scrollbar styling */
        .messages-area::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .messages-area::-webkit-scrollbar-track {
            background: transparent;
        }

        .messages-area::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            opacity: 0.2;
            border-radius: 9999px;
        }

        .messages-area::-webkit-scrollbar-thumb:hover {
            opacity: 0.4;
            background-color: var(--primary-hover);
        }

        /* Message bubbles with improved styling */
        .message {
            display: flex;
            max-width: 80%;
            animation: messageAppear 0.3s cubic-bezier(0.22, 1, 0.36, 1);
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .user-message {
            align-self: flex-end;
        }

        .ai-message {
            align-self: flex-start;
        }

        .message-content {
            padding: 1rem 1.25rem;
            border-radius: 1.25rem;
            overflow-wrap: break-word;
            box-shadow: var(--shadow-sm);
            line-height: 1.5;
        }

        .user-message .message-content {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border-bottom-right-radius: 0.25rem;
        }

        .ai-message .message-content {
            background-color: var(--secondary);
            color: var(--secondary-foreground);
            border-bottom-left-radius: 0.25rem;
        }

        /* Typing indicator with smoother animation */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.35rem;
            max-width: 80px;
            background-color: var(--secondary);
            border-radius: 1.25rem;
            border-bottom-left-radius: 0.25rem;
            animation: slideUp 0.3s cubic-bezier(0.22, 1, 0.36, 1);
            align-self: flex-start;
            box-shadow: var(--shadow-sm);
        }

        @keyframes slideUp {
            from {
                transform: translateY(10px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            opacity: 0.6;
            animation: pulseDot 1.5s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.3s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.6s;
        }

        @keyframes pulseDot {

            0%,
            100% {
                opacity: 0.4;
                transform: scale(0.8);
            }

            50% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Message input with stable positioning */
        .message-input-container {
            border-top: 1px solid var(--border);
            padding: 10px;
            background-color: none;
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border-bottom-left-radius: var(--radius);
            border-bottom-right-radius: var(--radius);
            position: sticky;
            /* Make it stick to the bottom */
            bottom: 0;
            z-index: 10;
            /* Ensure it stays above other content */
        }

        .dark-theme .message-input-container {
            background-color: rgba(30, 41, 59, 0.8);
        }

        .message-form {
            position: relative;
            max-width: 48rem;
            margin: 0 auto;
        }

        .message-input {
            width: 100%;
            padding: 0.9rem 1.25rem;
            padding-right: 3.5rem;
            background-color: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: inherit;
            font-size: 1rem;
            color: var(--foreground);
            transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
            /* Only transition these properties */
            box-shadow: var(--shadow-sm);
            position: relative;
            /* Ensure stable positioning */
        }

        .dark-theme .message-input {
            background-color: rgba(15, 23, 42, 0.8);
        }

        .message-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: var(--shadow-focus);
        }

        /* Ensure the messages area doesn't push the input */
        .messages-area {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            padding-bottom: 0.5rem;
            /* Add some padding to prevent content from being hidden behind input */
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) transparent;
            margin-bottom: 0;
            /* Ensure no margin pushing the input */
        }

        /* Modify the chat container to ensure proper layout */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            height: 65vh;
            border-radius: var(--radius);
            position: relative;
            /* Establish positioning context */
        }

        /* Ensure animations don't affect layout */
        @keyframes messageAppear {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Send button with better interaction */
        .send-button {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            background-color: var(--primary);
            color: var(--primary-foreground);
            border: none;
            border-radius: calc(var(--radius) - 0.25rem);
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-fast);
            box-shadow: var(--shadow-sm);
        }

        .send-button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-50%) scale(1.05);
        }

        .send-button:active {
            transform: translateY(-50%) scale(0.95);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: translateY(-50%) scale(1);
        }

        /* Responsive styles with mobile-first approach */
        @media (max-width: 768px) {
            :root {
                --side-padding: 1rem;
                --sidebar-width: 280px;
            }

            .intro-content h1 {
                font-size: 2rem;
            }

            .message {
                max-width: 90%;
            }

            .chat-container {
                height: 60vh;
            }

            .main-content {
                padding-top: 1.5rem;
                padding-bottom: 1.5rem;
                gap: 1.5rem;
            }

            .sidebar-toggle {
                display: flex;
            }

            .sidebar-open .main-content {
                margin-left: 0;
            }

            .sidebar {
                width: 100%;
                transform: translateX(-100%);
            }

            .sidebar-open .sidebar {
                transform: translateX(0);
            }
        }

        @media (max-width: 576px) {
            .main-nav {
                display: none;
            }

            .intro-content h1 {
                font-size: 1.75rem;
            }

            .badge {
                font-size: 0.65rem;
                padding: 0.25rem 0.625rem;
            }

            .chat-container {
                height: 70vh;
            }

            .message-input {
                padding: 0.75rem 1rem;
                padding-right: 3.25rem;
            }

            .send-button {
                width: 2.25rem;
                height: 2.25rem;
            }

            .auth-buttons {
                gap: 0.5rem;
            }

            .auth-button {
                padding: 0.5rem 0.75rem;
                font-size: 0.75rem;
            }
        }

        /* For smaller devices */
        @media (max-width: 360px) {
            .intro-content h1 {
                font-size: 1.5rem;
            }

            .intro-content p {
                font-size: 0.938rem;
            }

            .message-content {
                padding: 0.75rem 1rem;
            }
        }

        /* Support for reduced motion preferences */
        @media (prefers-reduced-motion: reduce) {

            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <header class="header">
            <div class="container-content header-content">
                <div style="display: flex; align-items: center;">
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="logo">AI Chat Assistant</div>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="#" class="active">Home</a></li>
                        <li><a href="#">Features</a></li>
                        <li><a href="#">About</a></li>
                    </ul>
                </nav>
                <div class="auth-buttons" id="authButtons">
                    <button class="auth-button login-button" id="loginButton">Log In</button>
                    <button class="auth-button signup-button" id="signupButton">Sign Up</button>
                </div>
                <div class="user-profile" id="userProfile" style="display: none;">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-dropdown">
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-user"></i> Profile
                        </a>
                        <a href="#" class="dropdown-item">
                            <i class="fas fa-cog"></i> Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item" id="logoutButton">
                            <i class="fas fa-sign-out-alt"></i> Log Out
                        </a>
                    </div>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="sun-icon">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="moon-icon">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Sidebar for chat history -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">Chat History</div>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <ul class="history-list" id="historyList">
                <!-- History items will be added here dynamically -->
                <li class="history-item">
                    <div class="history-item-content">What is the capital of Cambodia?</div>
                    <div class="history-item-time">Today, 10:30 AM</div>
                </li>
                <li class="history-item">
                    <div class="history-item-content">Tell me about Angkor Wat</div>
                    <div class="history-item-time">Yesterday, 4:15 PM</div>
                </li>
                <li class="history-item">
                    <div class="history-item-content">How to say hello in Khmer?</div>
                    <div class="history-item-time">Yesterday, 11:20 AM</div>
                </li>
            </ul>
        </aside>

        <main class="main-content">
            <section class="intro-section">
                <div class="intro-content">
                    <!-- <span class="badge">AI-Powered</span> -->
                    <!-- <h1>Get Insightful Answers to All Your Questions</h1> -->
                    <p>Chat with our AI assistant for helpful responses to your queries, available 24/7.</p>
                </div>
            </section>

            <div class="chat-container glass-card">
                <div class="messages-area" id="messagesContainer">
                    <!-- Messages will be added dynamically by JavaScript -->
                    <div class="message ai-message">
                        <div class="message-content">
                            <p>Hello! I'm your AI assistant. How can I help you today?</p>
                        </div>
                    </div>
                </div>


            </div>
            <div class="message-input-container">
                <form id="messageForm" class="message-form">
                    <input type="text" id="messageInput" class="message-input" placeholder="Ask a question..."
                        autocomplete="off">
                    <button type="submit" class="send-button" id="sendButton" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </form>
            </div>
        </main>
    </div>

    <!-- Login Modal -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Log In</div>
                <button class="close-modal" id="closeLoginModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="auth-form" id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail" class="form-label">Email</label>
                        <input type="email" id="loginEmail" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword" class="form-label">Password</label>
                        <input type="password" id="loginPassword" class="form-input" required>
                    </div>
                    <button type="submit" class="auth-submit">Log In</button>
                    <div class="auth-divider">or</div>
                    <div class="social-auth">
                        <button type="button" class="social-button" id="loginWithGoogle">
                            <i class="fab fa-google"></i> Continue with Google
                        </button>
                        <button type="button" class="social-button" id="loginWithFacebook">
                            <i class="fab fa-facebook-f"></i> Continue with Facebook
                        </button>
                    </div>
                    <div class="auth-footer">
                        Don't have an account? <a href="#" id="showSignup">Sign up</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal-overlay" id="signupModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">Sign Up</div>
                <button class="close-modal" id="closeSignupModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="auth-form" id="signupForm">
                    <div class="form-group">
                        <label for="signupName" class="form-label">Full Name</label>
                        <input type="text" id="signupName" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="signupEmail" class="form-label">Email</label>
                        <input type="email" id="signupEmail" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="signupPassword" class="form-label">Password</label>
                        <input type="password" id="signupPassword" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label for="signupConfirmPassword" class="form-label">Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" class="form-input" required>
                    </div>
                    <button type="submit" class="auth-submit">Sign Up</button>
                    <div class="auth-divider">or</div>
                    <div class="social-auth">
                        <button type="button" class="social-button" id="signupWithGoogle">
                            <i class="fab fa-google"></i> Continue with Google
                        </button>
                        <button type="button" class="social-button" id="signupWithFacebook">
                            <i class="fab fa-facebook-f"></i> Continue with Facebook
                        </button>
                    </div>
                    <div class="auth-footer">
                        Already have an account? <a href="#" id="showLogin">Log in</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- IMPORTANT: DO NOT REMOVE THIS SCRIPT TAG OR THIS VERY COMMENT! -->
    <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
    <script src="faqs.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM element references
            const loginButton = document.getElementById('loginButton');
            const signupButton = document.getElementById('signupButton');
            const logoutButton = document.getElementById('logoutButton');
            const loginModal = document.getElementById('loginModal');
            const signupModal = document.getElementById('signupModal');
            const closeLoginModal = document.getElementById('closeLoginModal');
            const closeSignupModal = document.getElementById('closeSignupModal');
            const showSignup = document.getElementById('showSignup');
            const showLogin = document.getElementById('showLogin');
            const loginForm = document.getElementById('loginForm');
            const signupForm = document.getElementById('signupForm');
            const loginWithGoogle = document.getElementById('loginWithGoogle');
            const loginWithFacebook = document.getElementById('loginWithFacebook');
            const signupWithGoogle = document.getElementById('signupWithGoogle');
            const signupWithFacebook = document.getElementById('signupWithFacebook');
            const authButtons = document.getElementById('authButtons');
            const userProfile = document.getElementById('userProfile');
            const userAvatar = document.getElementById('userAvatar');
            const sidebar = document.getElementById('sidebar');
            const sidebarToggle = document.getElementById('sidebarToggle');
            const closeSidebar = document.getElementById('closeSidebar');
            const appContainer = document.getElementById('appContainer');
            const errorMessageLogin = document.getElementById('errorMessageLogin');
            const errorMessageSignup = document.getElementById('errorMessageSignup');

            // Check for localStorage availability
            const isLocalStorageAvailable = () => {
                try {
                    localStorage.setItem('test', 'test');
                    localStorage.removeItem('test');
                    return true;
                } catch (e) {
                    return false;
                }
            };

            // Auth state management
            const AuthManager = {
                currentUser: null,

                init() {
                    if (!isLocalStorageAvailable()) {
                        console.error('localStorage is not available. Some features might not work.');
                        return;
                    }

                    // Check localStorage for existing session
                    const savedUser = localStorage.getItem('aiChatUser');
                    if (savedUser) {
                        try {
                            this.currentUser = JSON.parse(savedUser);
                            this.updateAuthUI();
                        } catch (e) {
                            console.error('Failed to parse user data:', e);
                            localStorage.removeItem('aiChatUser');
                        }
                    }

                    // Set up event listeners
                    if (loginButton) loginButton.addEventListener('click', () => this.showModal('login'));
                    if (signupButton) signupButton.addEventListener('click', () => this.showModal('signup'));
                    if (logoutButton) logoutButton.addEventListener('click', () => this.logout());
                    if (closeLoginModal) closeLoginModal.addEventListener('click', () => this.hideModal('login'));
                    if (closeSignupModal) closeSignupModal.addEventListener('click', () => this.hideModal('signup'));

                    if (showSignup) {
                        showSignup.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.hideModal('login');
                            setTimeout(() => this.showModal('signup'), 100); // Small delay to avoid flash
                        });
                    }

                    if (showLogin) {
                        showLogin.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.hideModal('signup');
                            setTimeout(() => this.showModal('login'), 100); // Small delay to avoid flash
                        });
                    }

                    // Form submissions
                    if (loginForm) loginForm.addEventListener('submit', (e) => this.handleLogin(e));
                    if (signupForm) signupForm.addEventListener('submit', (e) => this.handleSignup(e));

                    // Social login buttons
                    if (loginWithGoogle) loginWithGoogle.addEventListener('click', () => this.loginWithGoogle());
                    if (loginWithFacebook) loginWithFacebook.addEventListener('click', () => this.loginWithFacebook());
                    if (signupWithGoogle) signupWithGoogle.addEventListener('click', () => this.loginWithGoogle());
                    if (signupWithFacebook) signupWithFacebook.addEventListener('click', () => this.loginWithFacebook());

                    // Close modals on ESC key
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape') {
                            this.hideModal('login');
                            this.hideModal('signup');
                        }
                    });

                    // Close modals when clicking outside
                    window.addEventListener('click', (e) => {
                        if (e.target === loginModal) this.hideModal('login');
                        if (e.target === signupModal) this.hideModal('signup');
                    });
                },

                showModal(type) {
                    this.clearErrors();
                    if (type === 'login' && loginModal) {
                        loginModal.classList.add('active');
                        document.getElementById('loginEmail')?.focus();
                    } else if (type === 'signup' && signupModal) {
                        signupModal.classList.add('active');
                        document.getElementById('signupName')?.focus();
                    }
                },

                hideModal(type) {
                    if (type === 'login' && loginModal) {
                        loginModal.classList.remove('active');
                        if (loginForm) loginForm.reset();
                    } else if (type === 'signup' && signupModal) {
                        signupModal.classList.remove('active');
                        if (signupForm) signupForm.reset();
                    }
                    this.clearErrors();
                },

                clearErrors() {
                    if (errorMessageLogin) errorMessageLogin.textContent = '';
                    if (errorMessageSignup) errorMessageSignup.textContent = '';
                },

                displayError(type, message) {
                    const errorElement = type === 'login' ? errorMessageLogin : errorMessageSignup;
                    if (errorElement) {
                        errorElement.textContent = message;
                        errorElement.style.display = 'block';
                    } else {
                        alert(message); // Fallback if error element doesn't exist
                    }
                },

                updateAuthUI() {
                    if (this.currentUser) {
                        if (authButtons) authButtons.style.display = 'none';
                        if (userProfile) {
                            userProfile.style.display = 'flex';
                            if (userAvatar) {
                                const firstLetter = this.currentUser.name ? this.currentUser.name.charAt(0).toUpperCase() : '?';
                                userAvatar.textContent = firstLetter;
                            }
                        }
                        if (sidebar) sidebar.style.display = 'block';
                    } else {
                        if (authButtons) authButtons.style.display = 'flex';
                        if (userProfile) userProfile.style.display = 'none';
                        if (sidebar) sidebar.style.display = 'none';
                    }
                },

                validateEmail(email) {
                    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    return re.test(String(email).toLowerCase());
                },

                validatePassword(password) {
                    return password.length >= 8; // Simple validation, can be more complex
                },

                handleLogin(e) {
                    e.preventDefault();
                    const emailInput = document.getElementById('loginEmail');
                    const passwordInput = document.getElementById('loginPassword');

                    if (!emailInput || !passwordInput) {
                        console.error('Login form inputs not found');
                        return;
                    }

                    const email = emailInput.value.trim();
                    const password = passwordInput.value;

                    // Validate inputs
                    if (!email) {
                        this.displayError('login', 'Email is required');
                        return;
                    }

                    if (!this.validateEmail(email)) {
                        this.displayError('login', 'Please enter a valid email address');
                        return;
                    }

                    if (!password) {
                        this.displayError('login', 'Password is required');
                        return;
                    }

                    // In a real app, you would call your backend API here
                    // For this example, we'll simulate a successful login
                    try {
                        // Simulate API call
                        setTimeout(() => {
                            // Generate a more unique ID
                            const uniqueId = 'user_' + Date.now().toString(36) + Math.random().toString(36).substr(2);

                            this.currentUser = {
                                id: uniqueId,
                                name: email.split('@')[0], // Use part of email as name for demo
                                email: email,
                                avatar: null
                            };

                            localStorage.setItem('aiChatUser', JSON.stringify(this.currentUser));
                            this.updateAuthUI();
                            this.hideModal('login');

                            // Clear form
                            if (loginForm) loginForm.reset();
                        }, 500); // Simulate network delay
                    } catch (error) {
                        console.error('Login error:', error);
                        this.displayError('login', 'Login failed. Please try again.');
                    }
                },

                handleSignup(e) {
                    e.preventDefault();
                    const nameInput = document.getElementById('signupName');
                    const emailInput = document.getElementById('signupEmail');
                    const passwordInput = document.getElementById('signupPassword');
                    const confirmPasswordInput = document.getElementById('signupConfirmPassword');

                    if (!nameInput || !emailInput || !passwordInput || !confirmPasswordInput) {
                        console.error('Signup form inputs not found');
                        return;
                    }

                    const name = nameInput.value.trim();
                    const email = emailInput.value.trim();
                    const password = passwordInput.value;
                    const confirmPassword = confirmPasswordInput.value;

                    // Validate inputs
                    if (!name) {
                        this.displayError('signup', 'Name is required');
                        return;
                    }

                    if (!email) {
                        this.displayError('signup', 'Email is required');
                        return;
                    }

                    if (!this.validateEmail(email)) {
                        this.displayError('signup', 'Please enter a valid email address');
                        return;
                    }

                    if (!password) {
                        this.displayError('signup', 'Password is required');
                        return;
                    }

                    if (!this.validatePassword(password)) {
                        this.displayError('signup', 'Password must be at least 8 characters long');
                        return;
                    }

                    if (password !== confirmPassword) {
                        this.displayError('signup', 'Passwords do not match');
                        return;
                    }

                    // In a real app, you would call your backend API here
                    // For this example, we'll simulate a successful signup
                    try {
                        // Simulate API call
                        setTimeout(() => {
                            // Generate a more unique ID
                            const uniqueId = 'user_' + Date.now().toString(36) + Math.random().toString(36).substr(2);

                            this.currentUser = {
                                id: uniqueId,
                                name: name,
                                email: email,
                                avatar: null
                            };

                            localStorage.setItem('aiChatUser', JSON.stringify(this.currentUser));
                            this.updateAuthUI();
                            this.hideModal('signup');

                            // Clear form
                            if (signupForm) signupForm.reset();
                        }, 500); // Simulate network delay
                    } catch (error) {
                        console.error('Signup error:', error);
                        this.displayError('signup', 'Signup failed. Please try again.');
                    }
                },

                loginWithGoogle() {
                    // In a real app, you would integrate with the Google OAuth API
                    try {
                        // Simulate API call
                        setTimeout(() => {
                            const uniqueId = 'google_' + Date.now().toString(36);

                            this.currentUser = {
                                id: uniqueId,
                                name: 'Google User',
                                email: 'googleuser@example.com',
                                avatar: null
                            };

                            localStorage.setItem('aiChatUser', JSON.stringify(this.currentUser));
                            this.updateAuthUI();
                            this.hideModal('login');
                            this.hideModal('signup');
                        }, 800); // Simulate network delay
                    } catch (error) {
                        console.error('Google login error:', error);
                        this.displayError('login', 'Google login failed. Please try again.');
                    }
                },

                loginWithFacebook() {
                    // In a real app, you would integrate with the Facebook OAuth API
                    try {
                        // Simulate API call
                        setTimeout(() => {
                            const uniqueId = 'facebook_' + Date.now().toString(36);

                            this.currentUser = {
                                id: uniqueId,
                                name: 'Facebook User',
                                email: 'facebookuser@example.com',
                                avatar: null
                            };

                            localStorage.setItem('aiChatUser', JSON.stringify(this.currentUser));
                            this.updateAuthUI();
                            this.hideModal('login');
                            this.hideModal('signup');
                        }, 800); // Simulate network delay
                    } catch (error) {
                        console.error('Facebook login error:', error);
                        this.displayError('login', 'Facebook login failed. Please try again.');
                    }
                },

                logout() {
                    this.currentUser = null;
                    localStorage.removeItem('aiChatUser');
                    this.updateAuthUI();
                    // Optionally redirect to home page or refresh the page
                    // window.location.href = '/';
                }
            };

            // Sidebar management
            const SidebarManager = {
                sidebarVisible: false,

                init() {
                    if (sidebarToggle) {
                        sidebarToggle.addEventListener('click', (e) => {
                            e.stopPropagation(); // Prevent document click from immediately closing
                            this.toggleSidebar();
                        });
                    }

                    if (closeSidebar) {
                        closeSidebar.addEventListener('click', (e) => {
                            e.stopPropagation(); // Prevent propagation
                            this.closeSidebar();
                        });
                    }

                    // Close sidebar when clicking outside, but use a more targeted approach
                    document.addEventListener('click', (e) => {
                        if (this.sidebarVisible &&
                            sidebar &&
                            !sidebar.contains(e.target) &&
                            sidebarToggle &&
                            !sidebarToggle.contains(e.target)) {
                            this.closeSidebar();
                        }
                    });

                    // Close sidebar on ESC key
                    document.addEventListener('keydown', (e) => {
                        if (e.key === 'Escape' && this.sidebarVisible) {
                            this.closeSidebar();
                        }
                    });

                    // Handle window resize - close sidebar on small screens
                    window.addEventListener('resize', () => {
                        if (window.innerWidth < 768 && this.sidebarVisible) {
                            this.closeSidebar();
                        }
                    });
                },

                toggleSidebar() {
                    if (appContainer) {
                        this.sidebarVisible = !this.sidebarVisible;
                        appContainer.classList.toggle('sidebar-open');
                    }
                },

                openSidebar() {
                    if (appContainer) {
                        this.sidebarVisible = true;
                        appContainer.classList.add('sidebar-open');
                    }
                },

                closeSidebar() {
                    if (appContainer) {
                        this.sidebarVisible = false;
                        appContainer.classList.remove('sidebar-open');
                    }
                }
            };

            // Initialize managers
            AuthManager.init();
            SidebarManager.init();
        });

        // Theme Management with modern best practices
        const ThemeManager = {
            STORAGE_KEY: 'theme',
            THEME_DARK: 'dark-theme',

            init() {
                try {
                    const savedTheme = localStorage.getItem(this.STORAGE_KEY);
                    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

                    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                        document.body.classList.add(this.THEME_DARK);
                    }

                    // Listen for system theme changes
                    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                        if (!localStorage.getItem(this.STORAGE_KEY)) {
                            document.body.classList.toggle(this.THEME_DARK, e.matches);
                        }
                    });

                    themeToggle.addEventListener('click', () => this.toggle());
                } catch (e) {
                    console.error('Theme initialization failed:', e);
                }
            },

            toggle() {
                try {
                    const isDark = document.body.classList.toggle(this.THEME_DARK);
                    localStorage.setItem(this.STORAGE_KEY, isDark ? 'dark' : 'light');
                } catch (e) {
                    console.error('Failed to toggle theme:', e);
                }
            }
        };

        // Chat UI Utilities
        const ChatUI = {
            // Threshold in pixels to determine if user is near bottom
            SCROLL_THRESHOLD: 100,
            // Track if user has manually scrolled up
            userScrolledUp: false,
            // Scroll to bottom button element
            scrollButton: null,
            // For scroll debouncing
            scrollDebounce: null,

            init() {
                try {
                    // Create scroll to bottom button
                    this.createScrollButton();

                    // Add scroll event listener to detect manual scrolling
                    messagesContainer.addEventListener('scroll', () => this.handleScroll());

                    // Ensure messages container has relative positioning for absolute child
                    messagesContainer.style.position = 'relative';
                } catch (e) {
                    console.error('ChatUI initialization failed:', e);
                }
            },

            createScrollButton() {
                this.scrollButton = document.createElement('button');
                this.scrollButton.className = 'scroll-to-bottom-btn';
                this.scrollButton.innerHTML = '↓';
                this.scrollButton.title = 'Scroll to bottom';
                this.scrollButton.style.display = 'none';
                this.scrollButton.addEventListener('click', () => this.scrollToBottom(true));

                // Style the button
                this.scrollButton.style.position = 'absolute';
                this.scrollButton.style.right = '20px';
                this.scrollButton.style.bottom = '20px';
                this.scrollButton.style.borderRadius = '50%';
                this.scrollButton.style.width = '40px';
                this.scrollButton.style.height = '40px';
                this.scrollButton.style.fontSize = '20px';
                this.scrollButton.style.border = 'none';
                this.scrollButton.style.backgroundColor = '#333';
                this.scrollButton.style.color = 'white';
                this.scrollButton.style.boxShadow = '0 2px 5px rgba(0,0,0,0.2)';
                this.scrollButton.style.cursor = 'pointer';
                this.scrollButton.style.zIndex = '1000';

                // Add button to the messages container
                messagesContainer.appendChild(this.scrollButton);
            },

            handleScroll() {
                if (this.scrollDebounce) clearTimeout(this.scrollDebounce);
                this.scrollDebounce = setTimeout(() => {
                    const { scrollHeight, scrollTop, clientHeight } = messagesContainer;
                    const distanceFromBottom = scrollHeight - scrollTop - clientHeight;

                    // Update scroll state
                    this.userScrolledUp = distanceFromBottom > this.SCROLL_THRESHOLD;

                    // Toggle scroll button visibility
                    if (this.scrollButton) {
                        this.scrollButton.style.display = this.userScrolledUp ? 'block' : 'none';
                    }
                }, 100);
            },

            createTypingIndicator() {
                const typingIndicator = document.createElement('div');
                typingIndicator.className = 'typing-indicator';
                typingIndicator.innerHTML = `
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                `;
                this.appendToChat(typingIndicator);
                return typingIndicator;
            },


            createMessage(content, isUser = false) {
                // Create message container
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${isUser ? 'user-message' : 'ai-message'}`;

                // Create message content
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';

                const messageParagraph = document.createElement('p');
                messageParagraph.style.whiteSpace = 'pre-line';
                messageParagraph.textContent = content;
                messageContent.appendChild(messageParagraph);

                // Create actions container for the bottom of the message
                const actionsContainer = document.createElement('div');
                actionsContainer.className = 'message-actions';
                actionsContainer.style.cssText = `
        display: flex;
        gap: 10px;
        margin-top: 12px;
        align-items: center;
        justify-content: flex-start;
        padding: 4px 0;
        border-top: 1px solid var(--border-color, rgba(156, 163, 175, 0.1));
    `;

                // Create action buttons with modern styling
                // JavaScript for share functionality
                const actionButtons = [
                    {
                        name: 'share',
                        label: 'Share message',
                        icon: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="18" cy="5" r="3"></circle>
            <circle cx="6" cy="12" r="3"></circle>
            <circle cx="18" cy="19" r="3"></circle>
            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
        </svg>`,
                        action: async () => {
                            // Show sharing options modal/dropdown
                            const shareOptions = [
                                {
                                    name: 'copy',
                                    label: 'Copy to clipboard',
                                    icon: 'clipboard',
                                    action: async () => {
                                        try {
                                            await navigator.clipboard.writeText(content);
                                            return { success: true, message: 'Copied to clipboard!' };
                                        } catch (err) {
                                            console.error('Copy failed:', err);
                                            return { success: false, message: 'Copy failed' };
                                        }
                                    }
                                },
                                {
                                    name: 'native-share',
                                    label: 'Share via device',
                                    icon: 'share',
                                    action: async () => {
                                        if (navigator.share) {
                                            try {
                                                await navigator.share({
                                                    title: 'Shared Message',
                                                    text: content
                                                });
                                                return { success: true, message: 'Shared!' };
                                            } catch (err) {
                                                console.error('Share failed:', err);
                                                return { success: false, message: 'Share canceled' };
                                            }
                                        } else {
                                            return { success: false, message: 'Native sharing not supported on this device' };
                                        }
                                    }
                                },
                                {
                                    name: 'email',
                                    label: 'Share via email',
                                    icon: 'mail',
                                    action: () => {
                                        const subject = encodeURIComponent('Shared Message');
                                        const body = encodeURIComponent(content);
                                        window.open(`mailto:?subject=${subject}&body=${body}`);
                                        return { success: true, message: 'Email client opened' };
                                    }
                                },
                                {
                                    name: 'twitter',
                                    label: 'Share to Twitter',
                                    icon: 'twitter',
                                    action: () => {
                                        const text = encodeURIComponent(content.substring(0, 280));
                                        window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
                                        return { success: true, message: 'Twitter opened' };
                                    }
                                },
                                {
                                    name: 'facebook',
                                    label: 'Share to Facebook',
                                    icon: 'facebook',
                                    action: () => {
                                        window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank');
                                        return { success: true, message: 'Facebook opened' };
                                    }
                                },
                                {
                                    name: 'linkedin',
                                    label: 'Share to LinkedIn',
                                    icon: 'linkedin',
                                    action: () => {
                                        const text = encodeURIComponent(content);
                                        window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}&summary=${text}`, '_blank');
                                        return { success: true, message: 'LinkedIn opened' };
                                    }
                                },
                                {
                                    name: 'whatsapp',
                                    label: 'Share via WhatsApp',
                                    icon: 'message-circle',
                                    action: () => {
                                        const text = encodeURIComponent(content);
                                        window.open(`https://api.whatsapp.com/send?text=${text}`, '_blank');
                                        return { success: true, message: 'WhatsApp opened' };
                                    }
                                },
                                {
                                    name: 'telegram',
                                    label: 'Share via Telegram',
                                    icon: 'send',
                                    action: () => {
                                        const text = encodeURIComponent(content);
                                        window.open(`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${text}`, '_blank');
                                        return { success: true, message: 'Telegram opened' };
                                    }
                                }
                            ];

                            // Add CSS to the document
                            addShareMenuStyles();

                            // Display share options menu
                            return showShareOptionsMenu(shareOptions);
                        }
                    },
                ];

                // Helper function to add CSS styles for the share menu
                function addShareMenuStyles() {
                    // Check if styles already exist
                    if (document.getElementById('share-menu-styles')) return;

                    const styles = document.createElement('style');
                    styles.id = 'share-menu-styles';
                    styles.textContent = `
        /* Share menu overlay */
        .share-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Share options menu */
        .share-options-menu {
            background-color: #ffffff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15), 0 2px 10px rgba(0, 0, 0, 0.12);
            width: 320px;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
            padding: 20px 0;
            animation: slideUp 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            scroll-behavior: smooth;
            scrollbar-width: thin;
        }
        
        .share-options-menu::-webkit-scrollbar {
            width: 5px;
        }
        
        .share-options-menu::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .share-options-menu::-webkit-scrollbar-thumb {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
        }
        
        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            .share-options-menu {
                background-color: #222222;
                color: #ffffff;
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4), 0 2px 10px rgba(0, 0, 0, 0.35);
            }
            
            .share-options-menu::-webkit-scrollbar-thumb {
                background-color: rgba(255, 255, 255, 0.2);
            }
        }
        
        /* Menu title */
        .share-menu-title {
            padding: 0 24px 16px;
            margin: 0 0 12px;
            font-size: 20px;
            font-weight: 600;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            text-align: center;
            color: #111111;
        }
        
        @media (prefers-color-scheme: dark) {
            .share-menu-title {
                border-color: rgba(255, 255, 255, 0.1);
                color: #ffffff;
            }
        }
        
        /* Share option buttons */
        .share-option-button {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 14px 24px;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.2s ease;
            color: #333333;
        }
        
        .share-option-button:hover {
            background-color: rgba(0, 0, 0, 0.04);
        }
        
        .share-option-button:active {
            background-color: rgba(0, 0, 0, 0.08);
            transform: scale(0.98);
        }
        
        @media (prefers-color-scheme: dark) {
            .share-option-button {
                color: #f0f0f0;
            }
            .share-option-button:hover {
                background-color: rgba(255, 255, 255, 0.08);
            }
            .share-option-button:active {
                background-color: rgba(255, 255, 255, 0.12);
            }
        }
        
        /* Icon container */
        .share-option-icon {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            margin-right: 16px;
            border-radius: 12px;
            background-color: #f0f0f0;
            transition: transform 0.2s ease;
        }
        
        .share-option-button:hover .share-option-icon {
            transform: scale(1.05);
        }
        
        @media (prefers-color-scheme: dark) {
            .share-option-icon {
                background-color: rgba(255, 255, 255, 0.1);
            }
        }
        
        /* Platform-specific icon colors with subtle gradients */
        .share-option-icon.copy { 
            background: linear-gradient(135deg, #43A047, #2E7D32); 
        }
        .share-option-icon.native-share { 
            background: linear-gradient(135deg, #78909C, #455A64); 
        }
        .share-option-icon.email { 
            background: linear-gradient(135deg, #FF7043, #E64A19); 
        }
        .share-option-icon.twitter { 
            background: linear-gradient(135deg, #29B6F6, #0288D1); 
        }
        .share-option-icon.facebook { 
            background: linear-gradient(135deg, #5C6BC0, #3949AB); 
        }
        .share-option-icon.linkedin { 
            background: linear-gradient(135deg, #039BE5, #0277BD); 
        }
        .share-option-icon.whatsapp { 
            background: linear-gradient(135deg, #4CAF50, #2E7D32); 
        }
        .share-option-icon.telegram { 
            background: linear-gradient(135deg, #29B6F6, #0288D1); 
        }
        
        .share-option-icon svg {
            color: white;
            stroke: white;
            width: 18px;
            height: 18px;
        }
        
        /* Options container */
        .share-options-content {
            margin: 8px 0;
        }
        
        /* Footer area */
        .share-options-footer {
            padding: 16px 24px 0;
            margin-top: 12px;
            border-top: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        @media (prefers-color-scheme: dark) {
            .share-options-footer {
                border-color: rgba(255, 255, 255, 0.1);
            }
        }
        
        /* Close button */
        .share-option-close {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background-color: rgba(0, 0, 0, 0.05);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #333333;
        }
        
        .share-option-close:hover {
            background-color: rgba(0, 0, 0, 0.08);
        }
        
        .share-option-close:active {
            transform: scale(0.98);
        }
        
        @media (prefers-color-scheme: dark) {
            .share-option-close {
                background-color: rgba(255, 255, 255, 0.1);
                color: #f0f0f0;
            }
            .share-option-close:hover {
                background-color: rgba(255, 255, 255, 0.15);
            }
        }
        
        /* Toast notification for feedback */
        .share-toast {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background-color: #333333;
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1001;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
            display: flex;
            align-items: center;
            min-width: 200px;
            justify-content: center;
        }
        
        .share-toast.success {
            background-color: #43A047;
        }
        
        .share-toast.error {
            background-color: #E53935;
        }
        
        .share-toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { 
                transform: translateY(30px); 
                opacity: 0; 
            }
            to { 
                transform: translateY(0); 
                opacity: 1; 
            }
        }
    `;

                    document.head.appendChild(styles);
                }

                // Helper function to show toast notification
                function showToast(message, success = true) {
                    // Remove any existing toast
                    const existingToast = document.querySelector('.share-toast');
                    if (existingToast) {
                        existingToast.remove();
                    }

                    // Create new toast
                    const toast = document.createElement('div');
                    toast.className = success ? 'share-toast success' : 'share-toast error';
                    toast.textContent = message;

                    document.body.appendChild(toast);

                    // Show the toast
                    setTimeout(() => {
                        toast.classList.add('show');
                    }, 10);

                    // Hide the toast after 3 seconds
                    setTimeout(() => {
                        toast.classList.remove('show');
                        setTimeout(() => {
                            toast.remove();
                        }, 300);
                    }, 3000);
                }

                // Helper function to display share options to the user
                function showShareOptionsMenu(options) {
                    return new Promise((resolve) => {
                        // Create overlay
                        const overlay = document.createElement('div');
                        overlay.className = 'share-menu-overlay';

                        // Create menu
                        const menu = document.createElement('div');
                        menu.className = 'share-options-menu';

                        // Add title
                        const title = document.createElement('h3');
                        title.className = 'share-menu-title';
                        title.textContent = 'Share via';
                        menu.appendChild(title);

                        // Create content container
                        const content = document.createElement('div');
                        content.className = 'share-options-content';

                        // Add options
                        options.forEach(option => {
                            const button = document.createElement('button');
                            button.className = 'share-option-button';

                            const iconContainer = document.createElement('div');
                            iconContainer.className = `share-option-icon ${option.name}`;
                            iconContainer.innerHTML = getIconForOption(option.icon);

                            const label = document.createElement('span');
                            label.textContent = option.label;

                            button.appendChild(iconContainer);
                            button.appendChild(label);

                            button.onclick = async () => {
                                overlay.remove();
                                const result = await option.action();
                                showToast(result.message, result.success);
                                resolve(result);
                            };

                            content.appendChild(button);
                        });

                        menu.appendChild(content);

                        // Add footer with close button
                        const footer = document.createElement('div');
                        footer.className = 'share-options-footer';

                        const closeButton = document.createElement('button');
                        closeButton.className = 'share-option-close';
                        closeButton.textContent = 'Cancel';
                        closeButton.onclick = () => {
                            overlay.remove();
                            resolve({ success: false, message: 'Share canceled' });
                        };

                        footer.appendChild(closeButton);
                        menu.appendChild(footer);

                        // Close when clicking overlay
                        overlay.onclick = (e) => {
                            if (e.target === overlay) {
                                overlay.remove();
                                resolve({ success: false, message: 'Share canceled' });
                            }
                        };

                        // Add menu to overlay
                        overlay.appendChild(menu);

                        // Add overlay to document
                        document.body.appendChild(overlay);
                    });
                }

                // Helper function to get SVG icons based on icon name
                function getIconForOption(iconName) {
                    const icons = {
                        clipboard: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>`,
                        share: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>`,
                        mail: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>`,
                        twitter: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>`,
                        facebook: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>`,
                        linkedin: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>`,
                        'message-circle': `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>`,
                        send: `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>`
                    };

                    return icons[iconName] || icons.share;
                }

                // Create and append all action buttons
                actionButtons.forEach(button => {
                    const buttonEl = createActionButton(button);
                    actionsContainer.appendChild(buttonEl);
                });

                // Helper function to create action buttons
                function createActionButton({ name, label, icon, action }) {
                    const button = document.createElement('button');
                    button.className = `action-button ${name}-button`;
                    button.setAttribute('aria-label', label);
                    button.innerHTML = icon;

                    // Apply modern styling with CSS variables
                    button.style.cssText = `
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary, #9ca3af);
            transition: all 0.2s ease;
            outline: none;
            position: relative;
        `;

                    // Hover and focus states
                    const applyActiveStyle = () => {
                        button.style.background = 'var(--hover-bg, rgba(255, 255, 255, 0.1))';
                        button.style.color = 'var(--text-primary, #ffffff)';
                    };

                    const removeActiveStyle = () => {
                        if (!button.classList.contains('active')) {
                            button.style.background = 'transparent';
                            button.style.color = 'var(--text-secondary, #9ca3af)';
                        }
                    };

                    button.addEventListener('mouseenter', applyActiveStyle);
                    button.addEventListener('mouseleave', removeActiveStyle);
                    button.addEventListener('focus', applyActiveStyle);
                    button.addEventListener('blur', removeActiveStyle);

                    // Click handler with feedback
                    button.addEventListener('click', async (e) => {
                        e.stopPropagation();

                        const result = await action();
                        showFeedback(button, result.message, result.success);
                    });

                    // Keyboard accessibility
                    button.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            button.click();
                        }
                    });

                    return button;
                }

                // Generic feedback function for all buttons
                const showFeedback = (button, message, success = true) => {
                    // Create or update tooltip
                    let tooltip = button.querySelector('.action-tooltip');
                    if (!tooltip) {
                        tooltip = document.createElement('span');
                        tooltip.className = 'action-tooltip';
                        tooltip.style.cssText = `
                position: absolute;
                background: var(--tooltip-bg, #333);
                color: var(--tooltip-text, white);
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 12px;
                pointer-events: none;
                opacity: 0;
                transition: all 0.2s ease;
                white-space: nowrap;
                z-index: 100;
                bottom: 100%;
                left: 50%;
                transform: translateX(-50%) translateY(-8px);
                margin-bottom: 6px;
            `;
                        button.appendChild(tooltip);
                    }

                    tooltip.textContent = message;
                    tooltip.style.opacity = '1';
                    tooltip.style.transform = 'translateX(-50%) translateY(0)';

                    // Visual feedback on the button
                    button.style.color = success ? 'var(--success-color, #10b981)' : 'var(--error-color, #ef4444)';
                    button.classList.add('active');

                    // Reset after delay
                    setTimeout(() => {
                        tooltip.style.opacity = '0';
                        tooltip.style.transform = 'translateX(-50%) translateY(-8px)';
                        button.style.color = 'var(--text-secondary, #9ca3af)';
                        button.classList.remove('active');
                    }, 2000);
                };

                // Fallback copy method
                const fallbackCopy = (text) => {
                    const textarea = document.createElement('textarea');
                    textarea.value = text;
                    textarea.style.cssText = 'position: absolute; left: -9999px; top: 0; opacity: 0;';
                    document.body.appendChild(textarea);

                    try {
                        textarea.select();
                        textarea.setSelectionRange(0, 99999); // For mobile devices
                        const successful = document.execCommand('copy');
                        if (!successful) throw new Error('Copy command failed');
                        return true;
                    } catch (err) {
                        console.error('Fallback copy failed:', err);
                        return false;
                    } finally {
                        document.body.removeChild(textarea);
                    }
                };

                // Assemble the message components
                messageDiv.appendChild(messageContent);
                messageDiv.appendChild(actionsContainer);

                return messageDiv;
            },


            appendToChat(element) {
                try {
                    // Add the new element to the messages container
                    messagesContainer.appendChild(element);

                    // Check if we should auto-scroll
                    const shouldAutoScroll = !this.userScrolledUp;

                    // Only auto-scroll if the user hasn't scrolled up
                    if (shouldAutoScroll) {
                        this.scrollToBottom(true);
                    }

                    // If it's a user message or AI response, ensure we're at the bottom
                    if (element.classList &&
                        (element.classList.contains('user-message') ||
                            element.classList.contains('ai-message'))) {
                        setTimeout(() => {
                            if (!this.userScrolledUp) {
                                this.scrollToBottom(true);
                            }
                        }, 50);
                    }
                } catch (e) {
                    console.error('Failed to append message:', e);
                }
            },

            addMessage(content, isUser = false) {
                try {
                    const messageElement = this.createMessage(content, isUser);
                    this.appendToChat(messageElement);

                    setTimeout(() => {
                        if (!this.userScrolledUp) {
                            this.scrollToBottom(true);
                        }
                    }, 100);
                } catch (e) {
                    console.error('Failed to add message:', e);
                }
            },

            scrollToBottom(smooth = false) {
                try {
                    if (smooth) {
                        messagesContainer.scrollTo({
                            top: messagesContainer.scrollHeight,
                            behavior: 'smooth'
                        });
                    } else {
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    }

                    // Reset user scrolled state
                    this.userScrolledUp = false;

                    // Hide scroll button
                    if (this.scrollButton) {
                        this.scrollButton.style.display = 'none';
                    }
                } catch (e) {
                    console.error('Failed to scroll to bottom:', e);
                }
            },

            updateSendButtonState() {
                sendButton.disabled = !messageInput.value.trim();
            },

            setInitialGreeting() {
                const initialGreeting = "សួស្តី! ខ្ញុំជាជំនួយការ AI របស់អ្នក។ តើខ្ញុំអាចជួយអ្នកបានយ៉ាងដូចម្តេចថ្ងៃនេះ?";

                try {
                    const initialMessage = messagesContainer.querySelector('.ai-message');
                    if (initialMessage) {
                        initialMessage.querySelector('p').textContent = initialGreeting;
                    } else {
                        this.addMessage(initialGreeting);
                    }
                } catch (e) {
                    console.error('Failed to set initial greeting:', e);
                }
            }
        };

        // Enhanced Language Detection and Processing with caching
        const LanguageProcessor = {
            // Cache for storing processed intents to improve performance
            intentCache: new Map(),
            // Cache TTL in milliseconds (5 minutes)
            CACHE_TTL: 5 * 60 * 1000,

            // Khmer Unicode range: \u1780-\u17FF
            KHMER_PATTERN: /[\u1780-\u17FF]/,
            // English alphabet pattern
            ENGLISH_PATTERN: /[a-zA-Z]/,

            isKhmer(text) {
                return this.KHMER_PATTERN.test(text);
            },

            isEnglish(text) {
                return this.ENGLISH_PATTERN.test(text) && !this.isKhmer(text);
            },

            // Tokenize Khmer text into words - simplified implementation
            tokenize(text) {
                // Split by common Khmer word boundaries (space, zero-width space)
                return text.split(/[\s\u200B]+/).filter(word => word.length > 0);
            },

            // Calculate similarity between two strings (for fuzzy matching)
            calculateSimilarity(str1, str2) {
                const s1 = str1.toLowerCase();
                const s2 = str2.toLowerCase();

                // Simple word overlap calculation
                const words1 = this.tokenize(s1);
                const words2 = this.tokenize(s2);

                // Count matching words
                let matches = 0;
                for (const word of words1) {
                    if (words2.includes(word) && word.length > 1) { // Ignore single character matches
                        matches++;
                    }
                }

                // Calculate similarity score (0-1)
                const totalWords = Math.max(words1.length, words2.length);
                return totalWords > 0 ? matches / totalWords : 0;
            },

            detectIntent(message) {
                // Check cache first
                const cachedIntent = this.intentCache.get(message);
                if (cachedIntent && (Date.now() - cachedIntent.timestamp) < this.CACHE_TTL) {
                    return cachedIntent.result;
                }

                // Check if the message is in English
                if (this.isEnglish(message)) {
                    const result = { intent: 'english_detected' };
                    this.intentCache.set(message, { result, timestamp: Date.now() });
                    return result;
                }

                const lowerMessage = message.toLowerCase();

                // Enhanced intent detection with Khmer patterns
                const intentPatterns = {
                    greeting: ['សួស្ដី', 'សួស្តី', 'ជម្រាបសួរ', 'ជំរាបសួរ'],
                    about: ['តើអ្នកជានរណា', 'តើអ្នកជាអ្វី', 'ប្រាប់ខ្ញុំអំពីអ្នក', 'តើអ្នកអាចធ្វើអ្វីបាន'],
                    weather: ['អាកាសធាតុ', 'ការព្យាករណ៍', 'សីតុណ្ហភាព', 'ភ្លៀង', 'ក្តៅ'],
                    time: ['ពេលវេលា', 'កាលបរិច្ឆេទ', 'ថ្ងៃ', 'ម៉ោង', 'នាឡិកា'],
                    thanks: ['អរគុណ', 'សូមអរគុណ', 'អរគុណច្រើន'],
                    help: ['ជួយ', 'ជំនួយ', 'គាំទ្រ', 'ណែនាំ', 'តើខ្ញុំត្រូវធ្វើដូចម្តេច'],
                    farewell: ['លាហើយ', 'ជំរាបលា', 'ជួបគ្នាពេលក្រោយ']
                };

                // Check each intent pattern
                for (const [intent, patterns] of Object.entries(intentPatterns)) {
                    for (const pattern of patterns) {
                        if (lowerMessage.includes(pattern)) {
                            const result = { intent };
                            this.intentCache.set(message, { result, timestamp: Date.now() });
                            return result;
                        }
                    }
                }

                // Extract question words and entities for better FAQ matching
                const questionWords = ['តើ', 'អ្វី', 'ម្តេច', 'នរណា', 'ពេលណា', 'កន្លែងណា', 'ហេតុអ្វី'];
                const hasQuestionWord = questionWords.some(word => lowerMessage.includes(word));

                // Sentiment analysis - basic implementation
                const positiveWords = ['ល្អ', 'អស្ចារ្យ', 'ស្រឡាញ់', 'រីករាយ', 'សប្បាយ'];
                const negativeWords = ['អាក្រក់', 'មិនល្អ', 'កើតទុក្ខ', 'ខកចិត្ត', 'ស្អប់'];

                let sentiment = 'neutral';

                for (const word of positiveWords) {
                    if (lowerMessage.includes(word)) {
                        sentiment = 'positive';
                        break;
                    }
                }

                if (sentiment === 'neutral') {
                    for (const word of negativeWords) {
                        if (lowerMessage.includes(word)) {
                            sentiment = 'negative';
                            break;
                        }
                    }
                }

                const result = {
                    intent: 'default',
                    sentiment,
                    isQuestion: hasQuestionWord,
                    tokens: this.tokenize(lowerMessage)
                };

                this.intentCache.set(message, { result, timestamp: Date.now() });
                return result;
            }
        };

        // Enhanced Response Generation with NLG capabilities and caching
        const ResponseGenerator = {
            // Cache for storing generated responses
            responseCache: new Map(),
            // Cache TTL in milliseconds (5 minutes)
            CACHE_TTL: 5 * 60 * 1000,

            // Expanded FAQs with keywords and alternate phrasings
            faqData: [
                {
                    id: 'khmer_new_year',
                    keywords: ['ចូលឆ្នាំខ្មែរ', 'បុណ្យចូលឆ្នាំ', 'ប្រពៃណីចូលឆ្នាំ'],
                    questions: [
                        'តើបុណ្យចូលឆ្នាំខ្មែរប្រារព្ធនៅពេលណា?',
                        'ប្រាប់ខ្ញុំអំពីប្រពៃណីបុណ្យចូលឆ្នាំខ្មែរ',
                        'តើមានល្បែងប្រជាប្រិយអ្វីខ្លះក្នុងពិធីបុណ្យចូលឆ្នាំខ្មែរ?'
                    ],
                    answer: "បុណ្យចូលឆ្នាំខ្មែរជាទូទៅប្រារព្ធឡើងនៅខែមេសារយៈពេលបីថ្ងៃ (ចាប់ពីថ្ងៃទី១៣ ឬ ១៤ ដល់ថ្ងៃទី១៥ ឬ ១៦)។ វាជាពិធីបុណ្យសាសនាមួយដែលជាពេលសម្រាប់ការជួបជុំគ្រួសារ ការទៅវត្តអារាម និងការលេងល្បែងប្រពៃណី។ ល្បែងប្រជាប្រិយរួមមាន៖ ចោលឈូង បោះអង្គុញ ទាញព្រ័ត្រ លាក់កន្សែង ប្រាប់វែង លេងសេះជ័យ និងល្បែងផ្សេងៗទៀត។ បុណ្យចូលឆ្នាំខ្មែរក៏រួមមានពិធីស្រង់ទឹកព្រះពុទ្ធរូប និងការស្រង់ទឹកចាស់ៗក្នុងគ្រួសារ ដើម្បីសុំពរជ័យ ក៏ដូចជាការរៀបចំម្ហូបអាហារពិសេសៗសម្រាប់ពិធីបុណ្យនេះ។"
                }
            ],

            responses: {
                english_detected: [
                    "សូមវាយជាភាសាខ្មែរ ។ សូមអរគុណ ។",
                    "សូមប្រើភាសាខ្មែរដើម្បីទំនាក់ទំនងជាមួយខ្ញុំ។",
                    "ជំនួយការនេះអាចឆ្លើយតបតែជាភាសាខ្មែរប៉ុណ្ណោះ ។ សូមសាកល្បងវាយជាភាសាខ្មែរ ។",
                ],
                greeting: [
                    "សួស្តី! តើខ្ញុំអាចជួយអ្វីដល់អ្នកបានថ្ងៃនេះ?",
                    "ជម្រាបសួរ! តើខ្ញុំអាចជួយអ្វីដល់អ្នកបាន?",
                    "សួស្តី! តើខ្ញុំអាចបម្រើអ្នកយ៉ាងដូចម្តេច?"
                ],
                about: [
                    "ខ្ញុំជាជំនួយការ AI ដែលត្រូវបានបង្កើតឡើងដើម្បីជួយឆ្លើយសំណួររបស់អ្នក និងផ្តល់ព័ត៌មាន។",
                    "ខ្ញុំជាជំនួយការនិម្មិតដែលបង្កើតឡើងដើម្បីជួយក្នុងកិច្ចការផ្សេងៗ និងឆ្លើយសំណួរ។",
                    "ខ្ញុំជាជំនួយការជជែកកំសាន្ត AI នៅទីនេះដើម្បីផ្តល់ព័ត៌មាននិងជំនួយ។"
                ],
                thanks: [
                    "សូមស្វាគមន៍! សូមសួរដោយសេរីប្រសិនបើអ្នកមានសំណួរបន្ថែម។",
                    "រីករាយដែលបានជួយ! សូមប្រាប់ខ្ញុំប្រសិនបើអ្នកត្រូវការអ្វីផ្សេងទៀត។",
                    "ក្តីរីករាយរបស់ខ្ញុំ! តើមានអ្វីផ្សេងទៀតដែលអ្នកចង់ដឹងទេ?"
                ],
                help: [
                    "ខ្ញុំអាចជួយឆ្លើយសំណួរ ផ្តល់ព័ត៌មាន ឬគ្រាន់តែជជែក។ តើអ្នកត្រូវការជំនួយអ្វី?",
                    "ខ្ញុំនៅទីនេះដើម្បីជួយអ្នក។ តើអ្នកអាចបញ្ជាក់បានទេថាអ្នកត្រូវការជំនួយប្រភេទណា?"
                ],
                farewell: [
                    "លាហើយ! សូមត្រឡប់មកវិញប្រសិនបើអ្នកមានសំណួរបន្ថែម។",
                    "ជំរាបលា! ខ្ញុំនៅទីនេះពេលណាដែលអ្នកត្រូវការជំនួយ។",
                    "សូមថែរក្សាខ្លួន! សូមត្រឡប់មកវិញពេលណាដែលអ្នកត្រូវការជំនួយ។"
                ],
                default: [
                    "ខ្ញុំសូមអភ័យទោស ខ្ញុំមិនយល់ពីអ្វីដែលអ្នកកំពុងសួរទេ ។ តើអ្នកអាចសួរសំណួរផ្សេងបានទេ?",
                    "ខ្ញុំមិនអាចឆ្លើយសំណួរនេះបានទេ។ តើអ្នកអាចសួរសំណួរផ្សេងបានទេ?",
                ],
                positiveDefault: [
                    "ខ្ញុំរីករាយដែលឮដូច្នោះ! តើមានអ្វីជាក់លាក់អំពីវាដែលអ្នកចង់ពិភាក្សាទេ?",
                    "ឮហាក់ដូចជាអស្ចារ្យណាស់! តើអ្នកចង់ប្រាប់ខ្ញុំបន្ថែមអំពីវាទេ?"
                ],
                negativeDefault: [
                    "ខ្ញុំសោកស្តាយដែលឮដូច្នោះ។ តើមានអ្វីដែលខ្ញុំអាចជួយបានទេ?",
                    "ឮហាក់ដូចជាមានបញ្ហាប្រឈម។ តើអ្នកចង់និយាយបន្ថែមអំពីវាទេ?"
                ],
                faqs: {


                    'តើប្រជាជនអង្គរធ្វើដំណើរយ៉ាងដូចម្តេច?':
                        "ការធ្វើដំណើរនៅសម័យអង្គរ (សតវត្សទី៩-ទី១៥) ត្រូវបានគេប្រើប្រាស់វិធីផ្សេងៗដូចខាងក្រោម៖\n\n" +
                        "១. ដោយថ្មើរជើង\n" +
                        "- ជាវិធីសាមញ្ញបំផុត សម្រាប់ធ្វើដំណើរក្នុងចម្ងាយខ្លី។\n" +
                        "- ប្រជាជនធម្មតាប្រើវិធីនេះដើម្បីទៅផ្សារ ឬធ្វើស្រែ។\n\n" +
                        "២. ដោយសេះ\n" +
                        "- ជាយន្តហោះសម្រាប់អ្នកមាន និងទាហាន។\n" +
                        "- ត្រូវបានគេរាយការណ៍នៅក្នុងចារឹកសិលាអង្គរ។\n" +
                        "- សំខាន់សម្រាប់ការទាក់ទងរវាងទីក្រុង។\n\n" +
                        "៣. ដោយដំរី\n" +
                        "- ជាវិធីដឹកជញ្ជូនដ៏ធំបំផុត។\n" +
                        "- ប្រើសម្រាប់ដឹកទំនិញធ្ងន់ ឬអង្គរក្ស។\n" +
                        "- ដំរីធ្វើដំណើរអាចដឹកមនុស្សបាន ៦-៨ នាក់ក្នុងពេលតែមួយ។\n\n" +
                        "៤. ដោយទូក\n" +
                        "- ប្រព័ន្ធបឹងបួរ និងអូរអង្គរធ្វើឲ្យការធ្វើដំណើរតាមជលសារកើនឡើង។\n" +
                        "- ទូកឈើធំៗអាចដឹកទំនិញបានច្រើន។\n" +
                        "- ជាវិធីសំខាន់សម្រាប់ដឹកអង្ករពីជនបទទៅក្រុង។\n\n" +
                        "កត្តាកំណត់៖\n" +
                        "- បណ្តាញផ្លូវអង្គរដែលមានរាងជាក្រឡាចត្រង្គ។\n" +
                        "- ការប្រើប្រាស់ស្ពានថ្មដូចស្ពានសិង្ហៈនៅអង្គរធំ។\n" +
                        "- ការអភិវឌ្ឍន៍ប្រព័ន្ធធារាសាស្ត្រជាមូលដ្ឋាន។",

                    'តើប្រទេសកម្ពុជាមានទីតាំងនៅឯណា?':
                        "ប្រទេសកម្ពុជាស្ថិតនៅភូមិភាគអាស៊ីអាគ្នេយ៍ ដែលមានកូអរដោនេភូមិសាស្ត្រចន្លោះ លាវទី 10° និង 15° ខាងជើង និង រយៈបណ្ដោយ 102° និង 108° ខាងកើត។\n\n" +
                        "ព្រំប្រទល់របស់កម្ពុជាមាន៖\n" +
                        "- ខាងលិច៖ ជាប់នឹងប្រទេសថៃ (មានព្រំដែនវែងជាង 800 គីឡូម៉ែត្រ) ដែលខណ្ឌសម្គាល់ដោយជួរភ្នំដងរែក។\n" +
                        "- ខាងជើង៖ ជាប់ឡាវ (ព្រំដែនប្រវែង 540 គីឡូម៉ែត្រ) តាមដងទន្លេមេគង្គ។\n" +
                        "- ខាងកើត៖ ជាប់វៀតណាម (ព្រំដែន 1,228 គីឡូម៉ែត្រ) ដែលមានជាប់តំបន់វាលភក់ដីសណ្ដ។\n" +
                        "- ខាងត្បូង៖ ប៉ែកឈូងសមុទ្រថៃ ដែលមានឆ្នេរសមុទ្រប្រវែង 443 គីឡូម៉ែត្រ។\n\n" +
                        "សារៈសំខាន់នៃទីតាំង៖\n" +
                        "ទីតាំងនេះធ្វើឲ្យកម្ពុជាមានអត្ថប្រយោជន៍យ៉ាងខ្លាំងក្នុងវិស័យពាណិជ្ជកម្ម និងកសិកម្ម ដោយសារ៖\n" +
                        "- ទន្លេមេគង្គផ្ដល់ដីសណ្ដដ៏សម្បូរសម្រាប់ដាំដំណាំ។\n" +
                        "- ឈូងសមុទ្រថៃជាច្រកចេញចូលសំខាន់សម្រាប់នាវាចំណាកស្រុក។",

                    'តើកម្ពុជាមានផ្ទៃដីសរុបប៉ុន្មាន?':
                        "ប្រទេសកម្ពុជាមានផ្ទៃដីសរុប ១៨១,០៣៥ គីឡូម៉ែត្រការ៉េ (ស្មើនឹង 69,898 ម៉ាយល៍ការ៉េ) ដែលធ្វើឲ្យវាក្លាយជាប្រទេសធំជាងគេទី៩២ នៅពិភពលោក។\n\n" +
                        "ផ្ទៃដីនេះរួមមាន៖\n" +
                        "1. ដីគោក៖ ១៧៦,៥១៥ km² (៩៧.៥%)\n" +
                        "2. ដីទឹក៖ ៤,៥២០ km² (២.៥%) ដូចជាទន្លេសាប និងបឹងទន្លេមេគង្គ។\n\n" +
                        "ការប្រៀបធៀប៖\n" +
                        "- ធំជាងវៀតណាមបន្តិច (៣២១,៩១២ km²) តែតូចជាងថៃ (៥១៣,១២០ km²)។\n" +
                        "- មានទំហំស្របគ្នានឹងប្រទេសស៊ីរី ឬអេលសាល់វ៉ាឌ័រ។\n\n" +
                        "កត្តាកំណត់ផ្ទៃដី៖\n" +
                        "- ការបែងចែកព្រំដែនជាមួយប្រទេសជិតខាង (ឧ. ការវិវាទព្រំដែនថៃ-កម្ពុជាលើវិហារព្រះវិហារ)។\n" +
                        "- ការបាត់បង់ដីខ្លះដោយសារការកាត់ទឹកដីឲ្យវៀតណាមក្នុងសតវត្សទី១៩។",

                    'រាយឈ្មោះខ្ពង់រាបសំខាន់ៗនៅកម្ពុជា':
                        "កម្ពុជាមានខ្ពង់រាបសំខាន់ៗចំនួន ៣ ដូចខាងក្រោម៖\n\n" +
                        "1. ខ្ពង់រាបដងរែក\n" +
                        "- ទីតាំង៖ ភាគពាយព្យនៃប្រទេស (ខេត្តបាត់ដំបង ពោធិ៍សាត់)។\n" +
                        "- លក្ខណៈ៖ មានជួរភ្នំដងរែកដែលមានកម្ពស់ពី ៥០០–១,០០០ ម៉ែត្រ និងជាប្រភពនៃរ៉ែដ៏សំខាន់ (ដូចជារ៉ែដែក និងមាស)។\n" +
                        "- សារៈសំខាន់៖ ជាតំបន់អភិរក្សធម្មជាតិ និងជាដែនដីដ៏សំខាន់របស់ក្រុមជនជាតិភាគតិច។\n\n" +
                        "2. ខ្ពង់រាបក្រចេះ\n" +
                        "- ទីតាំង៖ ភាគឦសាន (ខេត្តក្រចេះ ស្ទឹងត្រែង)។\n" +
                        "- លក្ខណៈ៖ មានដីខ្សាច់ភ្នំ និងព្រៃឈើធំ។ ជាប្រភពទឹកសំខាន់របស់ទន្លេសេសាន។\n" +
                        "- សារៈសំខាន់៖ ជាតំបន់ដាំដំណាំឧស្សាហកម្ម (កាកាវ កៅស៊ូ)។\n\n" +
                        "3. ខ្ពង់រាបបាលាត\n" +
                        "- ទីតាំង៖ ភាគអាគ្នេយ៍ (ខេត្តកោះកុង កំពត)។\n" +
                        "- លក្ខណៈ៖ មានដីដែលមានជីជាតិទាប តែសំខាន់សម្រាប់ដំណាំឧស្សាហកម្ម (ដូចជាម្រេច និងអំពៅ)។\n\n" +
                        "ការវិវត្តន៍សេដ្ឋកិច្ច៖\n" +
                        "ខ្ពង់រាបទាំងនេះកំពុងអភិវឌ្ឍជាតំបន់ទេសចរណ៍ និងឧស្សាហកម្ម ដូចជាការអភិវឌ្ឍរ៉ែនៅភ្នំដងរែក។",

                    'តើដីសណ្ដទន្លេមេគង្គសំខាន់យ៉ាងណាចំពោះកម្ពុជា?':
                        "ដីសណ្ដទន្លេមេគង្គ (Mekong Delta) ដែលគ្របដណ្ដប់លើខេត្តជាច្រើនដូចជា កំពង់ចាម ព្រៃវែង និងកណ្ដាល មានសារៈសំខាន់យ៉ាងខ្លាំងដោយសារ៖\n\n" +
                        "1. ផលប៉ះពាល់សេដ្ឋកិច្ច៖\n" +
                        "- ផលិត ជាង ៥០% នៃអង្ករនៅកម្ពុជា ដែលធ្វើឲ្យកម្ពុជាក្លាយជាប្រទេសនាំចេញអង្ករធំជាងគេទី៩ នៅពិភពលោក។\n" +
                        "- ជាតំបន់សំខាន់សម្រាប់ដំណាំបន្ថែមដូចជា ពោត សណ្ដែក និងដំឡូង។\n\n" +
                        "2. សារៈសំខាន់បរិស្ថាន៖\n" +
                        "- ដីសណ្ដនេះជាប្រព័ន្ធអេកូឡូស៊ីសំខាន់ ដែលផ្ដល់ជម្រកដល់សត្វជាតិ និងជាប្រភពនៃត្រីសម្រាប់ប្រជាជន។\n" +
                        "- ទន្លេមេគង្គជាប្រភពទឹកសាបសំខាន់សម្រាប់ការស្រោចស្រប់។\n\n" +
                        "3. បញ្ហាប្រឈម៖\n" +
                        "- ការកាត់បន្ថយដីសណ្ដដោយសារការកសាងអាងស្តុកទឹកនៅខាងលើ (ឧ. ទំនប់របស់ចិននៅឡាវ)។\n" +
                        "- ការប្រែប្រួលអាកាសធាតុធ្វើឲ្យមានរាំងស្ងួត ឬជំនន់ញឹកញាប់។",

                    'តើភូមិភាគណាមួយនៅកម្ពុជាដែលមានដីភក់?':
                        "តំបន់វាលភក់ (Alluvial Plains) នៅកម្ពុជាស្ថិតនៅភាគកណ្ដាល និងខាងត្បូង រួមមាន៖\n\n" +
                        "1. តំបន់សំខាន់៖\n" +
                        "- វាលភក់ទន្លេមេគង្គ៖ គ្របដណ្ដប់ខេត្តកំពង់ចាម ព្រៃវែង និងកណ្ដាល។\n" +
                        "- វាលភក់ទន្លេបាសាក់៖ នៅខេត្តបាត់ដំបង។\n\n" +
                        "2. លក្ខណៈដីភក់៖\n" +
                        "- មានសារធាតុសរីរាង្គខ្ពស់ ដែលល្អសម្រាប់ដាំដំណាំ។\n" +
                        "- ដីមានសំណើមខ្ពស់ ហើយមានការបំពេញជីជាតិធម្មជាតិពីទឹកជំនន់ប្រចាំឆ្នាំ។\n\n" +
                        "3. ការប្រើប្រាស់៖\n" +
                        "- ជាតំបន់ដាំដំណាំសំខាន់ ជាពិសេសអង្ករ។\n" +
                        "- មានការអភិវឌ្ឍប្រព័ន្ធធារាសាស្ត្រដើម្បីបង្កើនផលិតកម្ម។",

                    // សំណួរអំពីភូមិសាស្ត្រសេដ្ឋកិច្ច
                    'តើវិស័យសេដ្ឋកិច្ចសំខាន់នៅកម្ពុជាមានអ្វីខ្លះ?': 'វិស័យសេដ្ឋកិច្ចសំខាន់ៗនៅកម្ពុជារួមមាន៖\n\n១. កសិកម្ម (បង្កើតបាន ២២.៧% នៃ GDP)\n២. ឧស្សាហកម្ម (ជាពិសេសវិស័យដេរ៉េ និងស្បែកជើង)\n៣. ទេសចរណ៍ (ដោយសារប្រាសាទអង្គរនិងឆ្នេរសមុទ្រ)\n៤. សេវាកម្ម (រួមមានធនាគារ និងអាជីវកម្ម)\n\nកម្ពុជាកំពុងផ្តោតលើការអភិវឌ្ឍវិស័យឧស្សាហកម្ម និងសេវាកម្មដើម្បីបង្កើនសក្តានុពលសេដ្ឋកិច្ច។',

                    'តើខេត្តណាមានសក្ដានុពលសេដ្ឋកិច្ចខ្ពស់?': 'ខេត្តដែលមានសក្ដានុពលសេដ្ឋកិច្ចខ្ពស់រួមមាន៖\n\n១. រាជធានីភ្នំពេញ (មជ្ឈមណ្ឌលហិរញ្ញវត្ថុ និងសេវាកម្ម)\n២. ខេត្តកំពង់ស្ពឺ (ឧស្សាហកម្ម និងកសិកម្ម)\n៣. ខេត្តសៀមរាប (ទេសចរណ៍ដោយសារប្រាសាទអង្គរ)\n៤. ខេត្តព្រះសីហនុ (អាកាសធាតុសមុទ្រ និងឧស្សាហកម្ម)\n៥. ខេត្តតាកែវ (កសិកម្ម និងឧស្សាហកម្មស្ករ)',

                    // សំណួរអំពីភូមិសាស្ត្រវប្បធម៌
                    'តើភូមិសាស្ត្រវប្បធម៌ខ្មែរមានលក្ខណៈអ្វីខ្លះ?': 'ភូមិសាស្ត្រវប្បធម៌ខ្មែរមានលក្ខណៈសំខាន់ៗដូចខាងក្រោម៖\n\n១. ភាពពាក់ព័ន្ធយ៉ាងជិតស្និទ្ធជាមួយធម្មជាតិ\n២. ភាពអាស្រ័យផលលើប្រព័ន្ធទន្លេ បឹង និងដំណាំ\n៣. ការបង្កើតវប្បធម៌ជំនឿ និងទំនៀមទំលាប់ដោយផ្អែកលើធម្មជាតិ\n៤. ការអភិវឌ្ឍជីវភាពដោយផ្អែកលើធនធានធម្មជាតិ\n\nវប្បធម៌ខ្មែរបានរីកចម្រើនឡើងតាមរយៈទំនាក់ទំនងជាមួយធម្មជាតិយ៉ាងជិតស្និទ្ធ។',

                    'តើភូមិសាស្ត្រប៉ះពាល់ដល់វប្បធម៌ខ្មែរយ៉ាងណា?': 'ភូមិសាស្ត្របានជះឥទ្ធិពលយ៉ាងខ្លាំងដល់វប្បធម៌ខ្មែរ៖\n\n១. ទន្លេមេគង្គ៖ ផ្តល់អាហារ និងជាប្រភពនៃជំនឿទេវកថា\n២. ទន្លេសាប៖ ជាមូលដ្ឋាននៃវប្បធម៌ស្រែចំការ\n៣. ដីវាលរាប់៖ បង្កើតជីវភាពកសិកម្ម\n៤. ព្រៃឈើ៖ ជាប្រភពនៃជំនឿអារក្ស និងទេពធីតា\n\nភូមិសាស្ត្របានកំណត់រចនាសម្ព័ន្ធនៃជីវភាព និងជំនឿរបស់ខ្មែរតាំងពីបុរាណកាលមក។',

                    // សំណួរអំពីភូមិសាស្ត្រកីឡា
                    'តើកីឡាប្រពៃណីខ្មែរមានទំនាក់ទំនងអ្វីជាមួយភូមិសាស្ត្រ?': 'កីឡាប្រពៃណីខ្មែរមានឫសគល់ពីភូមិសាស្ត្រ៖\n\n១. ប្រដាល់ខ្មែរ៖ មានប្រភពចេញពីការហ្វឹកហ្វឺនយុទ្ធជន\n២. ល្បែងទឹក៖ ពាក់ព័ន្ធនឹងជីវភាពតាមបឹងទន្លេ\n៣. ល្បែងអង្គរ៖ មានភាពទាក់ទងនឹងវប្បធម៌ស្រែចំការ\n៤. បោះអង្គញ់៖ បង្ហាញពីជំនាញកសិកម្ម\n\nកីឡាប្រពៃណីជាការឆ្លុះបញ្ចាំងនូវជីវភាពតាមធម្មជាតិរបស់ខ្មែរ។',

                    // សំណួរអំពីភូមិសាស្ត្រអាហារ
                    'តើភូមិសាស្ត្រប៉ះពាល់ដល់អាហារខ្មែរយ៉ាងណា?': 'ភូមិសាស្ត្របានប៉ះពាល់ដល់អាហារខ្មែរយ៉ាងខ្លាំង៖\n\n១. ទន្លេមេគង្គ៖ ផ្តល់ត្រីសាប និងសត្វជលផល\n២. ទន្លេសាប៖ ជាប្រភពសំខាន់នៃអង្ករ\n៣. ដីវាលរាប់៖ ផលិតបន្លែ និងដំណាំច្រើនប្រភេទ\n៤. ព្រៃឈើ៖ ផ្តល់ជាអាហារព្រៃ និងគ្រឿងទេស\n\nអាហារខ្មែរភាគច្រើនមានឫសគល់ពីធនធានធម្មជាតិក្នុងតំបន់។',

                    // សំណួរអំពីភូមិសាស្ត្រអេកូឡូស៊ី
                    'តើប្រព័ន្ធអេកូឡូស៊ីសំខាន់ៗនៅកម្ពុជាមានអ្វីខ្លះ?': 'ប្រព័ន្ធអេកូឡូស៊ីសំខាន់ៗនៅកម្ពុជា៖\n\n១. ប្រព័ន្ធទន្លេសាប-ទន្លេមេគង្គ (Tonle Sap-Mekong system)\n២. ព្រៃឈើភ្នំដងរែក (Cardamom Mountains)\n៣. អេកូឡូស៊ីឆ្នេរសមុទ្រ (Marine ecosystems)\n៤. តំបន់ស្រែចំការអង្ករ (Rice field ecosystems)\n៥. ព្រៃភ្នំឥសាន្ត (Northeastern highlands)\n\nប្រព័ន្ធទាំងនេះផ្តល់សេវាប្រព័ន្ធអេកូឡូស៊ីសំខាន់ៗដល់ប្រជាជន។',

                    'តើអ្វីជាបញ្ហាអេកូឡូស៊ីសំខាន់នៅកម្ពុជា?': 'បញ្ហាអេកូឡូស៊ីសំខាន់ៗនៅកម្ពុជា៖\n\n១. ការកាប់ព្រៃឈើខុសច្បាប់ (Illegal logging)\n២. ការប្រើប្រាស់ដីខ្វះគ្រប់គ្រង (Unregulated land use)\n៣. ការបំពុលទឹក (Water pollution)\n៤. ការបាត់បង់ជីវចម្រុះ (Biodiversity loss)\n៥. ផលប៉ះពាល់ពីអាកាសធាតុប្រែប្រួល (Climate change impacts)\n\nបញ្ហាទាំងនេះកំពុងបង្កើនហានិភ័យដល់សុខមាលដ្ឋានបរិស្ថាន។',

                    // សំណួរអំពីភូមិសាស្ត្រអាកាសធាតុប្រែប្រួល
                    'តើកម្ពុជាទទួលរងផលប៉ះពាល់អ្វីពីអាកាសធាតុប្រែប្រួល?': 'កម្ពុជាទទួលរងផលប៉ះពាល់ពីអាកាសធាតុប្រែប្រួល៖\n\n១. ទឹកជំនន់កាន់តែខ្លាំង និងញឹកញាប់\n២. រាំងស្ងួតកាន់តែយូរ និងធ្ងន់ធ្ងរ\n៣. កំរិតសមុទ្រកើនឡើងប៉ះពាល់ដល់តំបន់ឆ្នេរ\n៤. ការប្រែប្រួលនៃរដូវដាំដុះ\n៥. ការថយចុះជីវចម្រុះ\n\nផលប៉ះពាល់ទាំងនេះកំពុងបង្កើតបញ្ហាដល់ការអភិវឌ្ឍន៍ប្រទេស។',

                    // សំណួរអំពីភូមិសាស្ត្រអន្តរជាតិ
                    'តើកម្ពុជាមានទីតាំងយុទ្ធសាស្ត្រអ្វីខ្លះនៅអាស៊ីអាគ្នេយ៍?': 'ទីតាំងយុទ្ធសាស្ត្ររបស់កម្ពុជា៖\n\n១. ជាច្រកឆ្លងកាត់រវាងថៃ និងវៀតណាម\n២. មានច្រកចេញសមុទ្រសំខាន់តាមឈូងសមុទ្រថៃ\n៣. ស្ថិតនៅចំកណ្តាលតំបន់ដីសណ្តមេគង្គ\n៤. ជាចំណុចភ្ជាប់ដឹកជញ្ជូនអាស៊ីអាគ្នេយ៍\n៥. មានព្រំប្រទល់ជាប់ប្រទេសសំខាន់ៗ ៣ ប្រទេស\n\nទីតាំងនេះផ្តល់អត្ថប្រយោជន៍យុទ្ធសាស្ត្រដល់កម្ពុជា។',

                    // សំណួរអំពីភូមិសាស្ត្រអាស៊ីអាគ្នេយ៍
                    'តើកម្ពុជាស្ថិតនៅភូមិភាគណានៃអាស៊ីអាគ្នេយ៍?': 'ទីតាំងភូមិសាស្ត្ររបស់កម្ពុជា៖\n\n១. ស្ថិតនៅភូមិភាគកណ្តាលនៃអាស៊ីអាគ្នេយ៍\n២. មានព្រំប្រទល់ជាប់៖\n   - ខាងជើង៖ ថៃ និងឡាវ\n   - ខាងកើត និងអាគ្នេយ៍៖ វៀតណាម\n   - ខាងលិច៖ ថៃ\n   - ខាងត្បូង៖ ឈូងសមុទ្រថៃ\n៣. មានកូអរដោនេភូមិសាស្ត្រ៖ ១០°-១៥°ខាងជើង ១០២°-១០៨°ខាងកើត\n៤. ជាផ្នែកនៃតំបន់ដីសណ្តមេគង្គ',

                    // សំណួរអំពីភូមិសាស្ត្រពិភពលោក
                    'តើកម្ពុជាស្ថិតនៅតំបន់អ្វីនៃពិភពលោក?': 'ទីតាំងកម្ពុជាក្នុងពិភពលោក៖\n\n១. អាស៊ីអាគ្នេយ៍ (Southeast Asia)\n២. ភូមិភាគអាស៊ីប៉ែកអាគ្នេយ៍ (Mainland Southeast Asia)\n៣. តំបន់អាកាសធាតុត្រូពិក (Tropical zone)\n៤. តំបន់មូសុងអាស៊ី (Asian monsoon region)\n៥. ជាប្រទេសកំពុងអភិវឌ្ឍ (Developing country)\n៦. ស្ថិតនៅជាយខាងត្បូងនៃឧបទ្វីបឥណ្ឌូចិន',

                    // សំណួរអំពីភូមិសាស្ត្រប្រវត្តិសាស្ត្រ
                    'តើអតីតរាជធានីរបស់កម្ពុជាមានអ្វីខ្លះ?': 'អតីតរាជធានីកម្ពុជា៖\n\n១. អង្គរ (សតវត្សទី៩-ទី១៥) - មជ្ឈមណ្ឌលអារ្យធម៌ខ្មែរ\n២. ឧដុង្គ (សតវត្សទី១៦-១៩) - រាជធានីក្រោយអង្គរ\n៣. ភ្នំពេញ (ចាប់តាំងពីសតវត្សទី១៩) - រាជធានីបច្ចុប្បន្ន\n៤. រាជធានីដទៃទៀត៖ សម្ភុបុរៈ ឥសានបុរៈ និងរាជធានីអាណាចក្រចេនឡា\n\nរាជធានីទាំងនេះឆ្លុះបញ្ចាំងពីអត្តសញ្ញាណ និងប្រវត្តិសាស្ត្រខ្មែរ។',

                    // សំណួរអំពីភូមិសាស្ត្រសង្គម
                    'តើភូមិសាស្ត្រប៉ះពាល់ដល់ជីវភាពប្រជាជនខ្មែរយ៉ាងណា?': 'ភូមិសាស្ត្រប៉ះពាល់ដល់ជីវភាព៖\n\n១. ទន្លេមេគង្គ៖ ផ្តល់ត្រី និងទឹកសម្រាប់កសិកម្ម\n២. ទន្លេសាប៖ ជាប្រភពសំខាន់នៃអង្ករ\n៣. ដីវាលរាប់៖ អាចដាំដុះដំណាំបានច្រើន\n៤. ព្រៃឈើ៖ ផ្តល់ឈើ និងជីវចម្រុះ\n៥. ឆ្នេរសមុទ្រ៖ ជាប្រភពនៃទេសចរណ៍ និងជលផល\n\nភូមិសាស្ត្រកំណត់របៀបរស់នៅ និងអាជីវកម្មរបស់ប្រជាជន។',

                    // សំណួរអំពីភូមិសាស្ត្របច្ចេកវិទ្យា
                    'តើភូមិសាស្ត្រប៉ះពាល់ដល់ការអភិវឌ្ឍន៍បច្ចេកវិទ្យានៅកម្ពុជាយ៉ាងណា?': 'ភូមិសាស្ត្រប៉ះពាល់ដល់ការអភិវឌ្ឍបច្ចេកវិទ្យា៖\n\n១. ទឹកជំនន់ញឹកញាប់៖ បង្កើតឧបសគ្គដល់ហេដ្ឋារចនាសម្ព័ន្ធ\n២. ភ្នំព្រៃ៖ ពិបាកក្នុងការដាក់បណ្តាញគមនាគមន៍\n៣. ការពឹងផ្អែកខ្លាំងលើកសិកម្ម៖ បញ្ហាការអភិវឌ្ឍបច្ចេកវិទ្យាខ្ពស់\n៤. ទីតាំងយុទ្ធសាស្ត្រ៖ អាចទាក់ទាញវិនិយោគបច្ចេកវិទ្យា\n៥. ធនធានធម្មជាតិ៖ ផ្តោតលើបច្ចេកវិទ្យាកសិកម្ម',

                    // សំណួរអំពីភូមិសាស្ត្រអនាគត
                    'តើភូមិសាស្ត្រនឹងប៉ះពាល់ដល់កម្ពុជាយ៉ាងណានៅអនាគត?': 'ភូមិសាស្ត្រនឹងប៉ះពាល់ដល់កម្ពុជានៅអនាគត៖\n\n១. ការកើនឡើងនៃកំរិតសមុទ្រ៖ ប៉ះពាល់ដល់តំបន់ឆ្នេរ\n២. ការប្រែប្រួលអាកាសធាតុ៖ បង្កើនហានិភ័យធម្មជាតិ\n៣. ការថយចុះធនធានធម្មជាតិ៖ ប៉ះពាល់ដល់ការអភិវឌ្ឍ\n៤. ទីតាំងយុទ្ធសាស្ត្រ៖ អាចជាឱកាសសម្រាប់ការអភិវឌ្ឍ\n៥. ការប្រែប្រួលប្រព័ន្ធអេកូឡូស៊ី៖ ប៉ះពាល់ដល់សន្តិសុខស្បៀង\n\nការគ្រប់គ្រងធនធានធម្មជាតិនឹងក្លាយជាបញ្ហាសំខាន់។',



                    // សំណួរអំពីការកសាងហេដ្ឋារចនាសម្ព័ន្ធ
                    'តើកម្ពុជាមានផ្លូវជាតិសរុបប៉ុន្មានគីឡូម៉ែត្រ?': 'នៅឆ្នាំ២០២៣ កម្ពុជាមានផ្លូវជាតិសរុបប្រមាណ១៥០០០គីឡូម៉ែត្រ ដោយ៧០%ជាផ្លូវល្អ។\nផ្លូវជាតិត្រូវបានគេចែកជា៣ប្រភេទ៖ ផ្លូវជាតិលេខ (១-៨) ផ្លូវជាតិភ្ជាប់ និងផ្លូវជាតិរង។\nការអភិវឌ្ឍផ្លូវថ្មីៗរួមមានផ្លូវអាស៊ីលេខ១ និងផ្លូវអាស៊ីលេខ១១។',

                    'តើស្ពានអាកាសសំខាន់យ៉ាងណា?': 'ស្ពានអាកាសដែលឆ្លងកាត់ទន្លេមេគង្គនៅខេត្តកំពង់ចាម ជាស្ពានវែងជាងគេនៅកម្ពុជា (៥.៥គីឡូម៉ែត្រ) ភ្ជាប់ផ្លូវជាតិលេខ៦និង៧។\nស្ពាននេះចាប់ផ្ដើមសាងសង់ឆ្នាំ២០១៥ ហើយបើកប្រើប្រាស់ឆ្នាំ២០២២។\nវាជាស្ពានដែកដ៏ធំបំផុតនៅកម្ពុជា មានទំហំប្រវែងសរុប៦.៦គីឡូម៉ែត្រ រួមទាំងផ្លូវចូល។',

                    'តើអាកាសយានដ្ឋានអន្តរជាតិនៅកម្ពុជាមានចំនួនប៉ុន្មាន?': 'កម្ពុជាមានអាកាសយានដ្ឋានអន្តរជាតិ៣គឺ៖\n១. អាកាសយានដ្ឋានអន្តរជាតិភ្នំពេញ (ពោធិ៍សែនអង្គរ)\n២. អាកាសយានដ្ឋានអន្តរជាតិសៀមរាប\n៣. អាកាសយានដ្ឋានអន្តរជាតិស៊ីហនុ\nនៅអនាគតនឹងមានការអភិវឌ្ឍអាកាសយានដ្ឋានអន្តរជាតិទី៤នៅខេត្តតាកែវ។',

                    // សំណួរអំពីទេសចរណ៍
                    'តើកន្លែងទេសចរណ៍ល្បីៗនៅកម្ពុជាមានអ្វីខ្លះ?': 'កន្លែងទេសចរណ៍ល្បីៗនៅកម្ពុជារួមមាន៖\n១. អង្គរវត្ត - ប្រាសាទបុរាណដ៏អស្ចារ្យ\n២. ភ្នំពេញ - រាជធានីប្រវត្តិសាស្ត្រ\n៣. ស៊ីហនុ - ឆ្នេរសមុទ្រស្រស់ស្អាត\n៤. ភ្នំបូកគោ - រមណីយដ្ឋានធម្មជាតិ\n៥. រមណីយដ្ឋានបឹងទន្លេសាប - បឹងយុថ្កាធំជាងគេនៅអាស៊ីអាគ្នេយ៍\n៦. ខេត្តរតនគិរី - ធម្មជាតិដ៏ស្រស់បំព្រង',

                    'តើអង្គរវត្តស្ថិតនៅខេត្តណា?': 'អង្គរវត្តស្ថិតនៅខេត្តសៀមរាប ជាប្រាសាទហិណ្ឌូបុរាណដ៏ធំបំផុតនៅពិភពលោក។\nប្រាសាទនេះសាងសង់ដោយព្រះបាទសូរ្យវរ្ម័នទី២ ក្នុងសតវត្សទី១២ ដើម្បីឧទ្ទិសដល់ព្រះវិស្ណុ។\nអង្គរវត្តត្រូវបានចាត់ទុកជាបេតិកភណ្ឌពិភពលោកដោយយូណេស្កូនៅឆ្នាំ១៩៩២។',

                    'តើប្រាសាទបន្ទាយស្រីស្ថិតនៅឯណា?': 'ប្រាសាទបន្ទាយស្រីស្ថិតនៅខេត្តបន្ទាយមានជ័យ ជាប្រាសាទខ្មែរបុរាណដ៏ស្រស់ស្អាតមួយ។\nប្រាសាទនេះសាងសង់ក្នុងសតវត្សទី១០ ដោយព្រះបាទរាជេន្ទ្រវរ្ម័ន និងព្រះបាទជ័យវរ្ម័នទី៥។\nវាមានលក្ខណៈពិសេសដោយសំណង់ថ្មភក់ពណ៌ផ្កាឈូក និងសិលាចារឹកដ៏សំខាន់។',

                    // សំណួរអំពីកោះនិងឆ្នេរសមុទ្រ
                    'តើកម្ពុជាមានកោះសរុបប៉ុន្មាន?': 'កម្ពុជាមានកោះសរុបប្រមាណ៦០កោះ ដែលធំជាងគេគឺកោះកុង។\nកោះសំខាន់ៗផ្សេងទៀតរួមមាន៖ កោះត្រល់ កោះពេជ្រ កោះដំណាក់ចង្អើរ និងកោះរ៉ុង។\nកោះទាំងនេះស្ថិតនៅខេត្តកោះកុង កែប និងស៊ីហនុ។',

                    'តើកោះកុងមានផ្ទៃដីប៉ុន្មាន?': 'កោះកុងមានផ្ទៃដី១០៣គីឡូម៉ែត្រការ៉េ ជាកោះធំជាងគេនៅកម្ពុជា។\nកោះនេះមានប្រវែង២៥គីឡូម៉ែត្រ ទទឹង៧គីឡូម៉ែត្រ និងមានប្រជាជនរស់នៅប្រមាណ១៥,០០០នាក់។\nវាជារមណីយដ្ឋានទេសចរណ៍ដ៏ពេញនិយមដោយសារឆ្នេរខ្សាច់ស និងធម្មជាតិបរិសុទ្ធ។',

                    'តើឆ្នេរសមុទ្រកម្ពុជាមានប្រវែងប៉ុន្មាន?': 'ឆ្នេរសមុទ្រកម្ពុជាមានប្រវែងសរុប៤៤០គីឡូម៉ែត្រ លាតសន្ធឹងតាមខេត្តកោះកុង ព្រះសីហនុ និងកែប។\nឆ្នេរទាំងនេះរួមមាន៖\n- ឆ្នេរឱកែត (១៨០គម) នៅខេត្តកោះកុង\n- ឆ្នេរស៊ីហនុ (១៥០គម) នៅខេត្តព្រះសីហនុ\n- ឆ្នេរកែប (១១០គម) នៅខេត្តកែប',

                    // សំណួរអំពីឧស្សាហកម្មនិងកសិកម្ម
                    'តើដំណាំសំខាន់នៅកម្ពុជាមានអ្វីខ្លះ?': 'ដំណាំសំខាន់នៅកម្ពុជារួមមាន៖\n១. អង្ករ - ដំណាំសំខាន់បំផុត ដាំនៅតំបន់វាលរាបកណ្ដាល\n២. កៅស៊ូ - ដាំច្រើននៅខេត្តក្រចេះ រតនគិរី\n៣. ស្ករ - ផលិតពីដំណាំអំពៅ និងត្នោត\n៤. ម្រេច - ខេត្តកំពត និងកែប\n៥. ដំណាំបន្លែ - ដាំនៅជុំវិញភ្នំពេញ និងតំបន់ជិតទន្លេ\n៦. ហោឡាន - ដាំនៅខេត្តបាត់ដំបង និងប៉ៃលិន',

                    'តើខេត្តណាដាំអង្ករច្រើនជាងគេ?': 'ខេត្តបាត់ដំបងជាខេត្តដាំអង្ករច្រើនជាងគេ បន្ទាប់មកគឺ៖\n១. បាត់ដំបង - ផលិតប្រមាណ២.៥លានតោនក្នុងមួយឆ្នាំ\n២. កំពង់ធំ - ផលិតប្រមាណ២.២លានតោន\n៣. កំពង់ចាម - ផលិតប្រមាណ២លានតោន\n៤. បាត់ដំបង - មានផ្ទៃដីដាំដុះធំជាងគេ (១.២លានហិកតា)',

                    'តើកម្ពុជានាំចេញអ្វីច្រើនជាងគេ?': 'កម្ពុជានាំចេញអង្ករច្រើនជាងគេ បន្ទាប់មកគឺ៖\n១. អង្ករ - នាំចេញប្រមាណ៦លានតោនក្នុងមួយឆ្នាំ\n២. សំពត់ - ផលិតផលអាជីវកម្មសំពត់\n៣. កៅស៊ូ - នាំចេញទៅវៀតណាម និងចិន\n៤. ផលិតផលខ្ចៅ - នាំចេញទៅថៃ និងជប៉ុន\n៥. ម្រេច - ជាប្រភេទម្រេចកំពតដែលល្បីខ្លាំង',

                    // សំណួរអំពីប្រជាសាស្ត្រ
                    'តើកម្ពុជាមានប្រជាជនប៉ុន្មាននាក់?': 'នៅឆ្នាំ២០២៣ កម្ពុជាមានប្រជាជនប្រមាណ១៧លាននាក់។\nក្នុងនោះ៖\n- ប្រជាជនក្នុងទីក្រុង៖ ២៥%\n- ប្រជាជននៅជនបទ៖ ៧៥%\n- សារពើភណ្ឌ៖ ៥២% ស្រី និង ៤៨% ប្រុស\n- អត្រាកំណើនប្រជាជន៖ ១.៤% ក្នុងមួយឆ្នាំ',

                    'តើអត្រាកំណើនប្រជាជននៅកម្ពុជាប៉ុន្មាន?': 'អត្រាកំណើនប្រជាជននៅកម្ពុជាមានប្រហែល១.៤% ក្នុងមួយឆ្នាំ។\nកត្តាជំរុញអត្រាកំណើន៖\n- អត្រាកំណើនធម្មជាតិ៖ ២% (កំណើន - មរណភាព)\n- ការធ្លាក់ចុះអត្រាមរណភាពនៅក្មេង\n- ការកើនឡើងនូវអាយុជាមធ្យម (បច្ចុប្បន្ន ៧២ឆ្នាំ)',

                    'តើភាសាផ្លូវការនៅកម្ពុជាគឺអ្វី?': 'ភាសាខ្មែរគឺជាភាសាផ្លូវការនៃកម្ពុជា ដោយ៩០%នៃប្រជាជននិយាយភាសានេះ។\nលក្ខណៈពិសេស៖\n- ជាភាសាមន-ខ្មែរ ក្រុមអូស្ត្រូអាស៊ីទិក\n- ប្រើអក្សរខ្មែរ ដែលមានដើមកំណើតពីអក្សរព្រាហ្មី\n- មានសំលេងព្យញ្ជនៈ៣៣តួ ស្រៈ២៤តួ\n- ភាសារដ្ឋបាល និងអប់រំប្រើភាសាខ្មែរ',

                    // សំណួរអំពីបរិស្ថាន
                    'តើកម្ពុជាមានបញ្ហាបរិស្ថានអ្វីខ្លះ?': 'បញ្ហាបរិស្ថានសំខាន់ៗនៅកម្ពុជារួមមាន៖\n១. ការកាប់ព្រៃឈើ - ព្រៃឈើថយចុះពី៧០% (១៩៧០) មកត្រឹម៤០% (២០២៣)\n២. ការបំពុលទឹក - ដោយសារអង្គធាធម្មនុញ្ញ និងកាកសំណល់កសិកម្ម\n៣. ការបាត់បង់ជីវចម្រុះ - សត្វព្រៃថយចុះយ៉ាងខ្លាំង\n៤. ផលប៉ះពាល់អាកាសធាតុ - ទឹកជំនន់ និងរាំងស្ងួតកើនឡើង\n៥. ការបំពុលខ្យល់ - ជាពិសេសនៅទីក្រុងធំៗ',

                    'តើកម្ពុជាបានការពារសត្វអ្វីខ្លះ?': 'កម្ពុជាបានការពារសត្វជាច្រើនប្រភេទដូចជា៖\n១. ខ្លាធំ - នៅតំបន់អាជីពក្រហម\n២. ដំរីអាស៊ី - នៅខេត្តមណ្ឌលគិរី\n៣. គោព្រៃ - នៅឧទ្យានជាតិព្រះសូរិយាចន្ទ្រ\n៤. ត្រីដំរី - នៅទន្លេមេគង្គ\n៥. បក្សីព្រៃ - នៅតំបន់សំណឹកសត្វបឹងទន្លេសាប\n៦. ដើមឈើពិសេស - ដូងទឹកល្ហុង និងខ្លឹមឈើថ្លា',

                    // សំណួរអំពីភូមិសាស្ត្រនយោបាយ
                    'តើកម្ពុជាមានរដ្ឋធានីឈ្មោះអ្វី?': 'ភ្នំពេញគឺជារដ្ឋធានីនៃព្រះរាជាណាចក្រកម្ពុជា។\nលក្ខណៈសំខាន់ៗ៖\n- ប្រជាជន៖ ប្រមាណ២.២លាននាក់\n- ផ្ទៃដី៖ ៦៧៨.៤៦គម២\n- ចែកជា១៤ខណ្ឌ\n- ជាមជ្ឈមណ្ឌលសេដ្ឋកិច្ច នយោបាយ វប្បធម៌នៃប្រទេស\n- មានទន្លេ៤សន្លាក់គ្នា៖ ទន្លេមេគង្គ តូន្លេសាប និងបាសាក់',

                    'តើកម្ពុជាចែកចេញជាប៉ុន្មានតំបន់ភូមិសាស្ត្រ?': 'កម្ពុជាចែកចេញជា៤តំបន់ភូមិសាស្ត្រធំៗ៖\n១. តំបន់វាលរាប់កណ្ដាល - រួមមានភ្នំពេញ កំពង់ចាម កំពង់ធំ\n២. តំបន់ភ្នំនិងខ្ពង់រាប - រួមមានរតនគិរី មណ្ឌលគិរី ពោធិ៍សាត់\n៣. តំបន់វាលរាបទន្លេមេគង្គ - រួមមានខេត្តតាកែវ កណ្ដាល\n៤. តំបន់ឆ្នេរសមុទ្រ - រួមមានខេត្តកោះកុង ព្រះសីហនុ កែប',

                    // សំណួរអំពីអាស៊ីអាគ្នេយ៍
                    'តើកម្ពុជាស្ថិតនៅភូមិភាគណានៃអាស៊ីអាគ្នេយ៍?': 'កម្ពុជាស្ថិតនៅភូមិភាគកណ្ដាលនៃអាស៊ីអាគ្នេយ៍។\nព្រំប្រទល់៖\n- ខាងជើង៖ ថៃ (៨០០គម) និងឡាវ (៥៤១គម)\n- ខាងកើត៖ វៀតណាម (១២២៨គម)\n- ខាងត្បូង៖ ឈូងសមុទ្រថៃ (៤៤០គម)\n- ខាងលិច៖ ថៃ (៨០០គម)',

                    'តើកម្ពុជាមានទីតាំងភូមិសាស្ត្រសំខាន់យ៉ាងណា?': 'កម្ពុជាមានទីតាំងយុទ្ធសាស្ត្រសំខាន់នៅអាស៊ីអាគ្នេយ៍។\nសារៈសំខាន់៖\n១. ជាច្រកឆ្លងកាត់រវាងថៃនិងវៀតណាម\n២. មានច្រកចេញសមុទ្រដ៏សំខាន់នៅឈូងសមុទ្រថៃ\n៣. ទន្លេមេគង្គឆ្លងកាត់ប្រទេស ជាប្រភពធនធានទឹកសំខាន់\n៤. ទីតាំងជាប្រទេសកណ្ដាលធ្វើឱ្យអាចភ្ជាប់ផ្លូវពាណិជ្ជកម្ម',

                    // សំណួរអំពីបរិមាណទឹក
                    'តើបរិមាណទឹកភ្លៀងប្រចាំឆ្នាំនៅកម្ពុជាប៉ុន្មាន?': 'បរិមាណទឹកភ្លៀងប្រចាំឆ្នាំនៅកម្ពុជាមានចន្លោះ១៤០០-៣០០០មម អាស្រ័យតំបន់។\nការបែងចែកតាមតំបន់៖\n- តំបន់ភ្នំ៖ ២០០០-៣០០០មម (រតនគិរី មណ្ឌលគិរី)\n- តំបន់វាលរាប៖ ១៤០០-២០០០មម (ភ្នំពេញ តាកែវ)\n- តំបន់ឆ្នេរសមុទ្រ៖ ២៥០០-៣០០០មម (កោះកុង កែប)\n- តំបន់ខ្ពង់រាប៖ ១៤០០-១៦០០មម (បាត់ដំបង ពោធិ៍សាត់)',

                    'តើខេត្តណាមានភ្លៀងធ្លាក់តិចជាងគេ?': 'ខេត្តបាត់ដំបងមានភ្លៀងធ្លាក់តិចជាងគេ ជាមធ្យម១៤០០មមក្នុងមួយឆ្នាំ។\nហេតុផល៖\n- ស្ថិតនៅតំបន់ខ្ពង់រាបខាងលិច\n- ជាតំបន់អ័ព្ទពីខ្យល់មូសុង\n- មានភ្នំដងរែករារាំងខ្យល់សំណើម\nខេត្តដទៃទៀតដែលមានភ្លៀងតិច៖ ពោធិ៍សាត់ (១៥០០មម) និងប៉ៃលិន (១៦០០មម)',

                    // សំណួរអំពីភូមិសាស្ត្រប្រវត្តិសាស្ត្រ
                    'តើអតីតរាជធានីរបស់កម្ពុជាមានអ្វីខ្លះ?': 'អតីតរាជធានីរបស់កម្ពុជារួមមាន៖\n១. អង្គរ (សៀមរាប) - រាជធានីអាណាចក្រអង្គរដ៏អស្ចារ្យ (សតវត្សទី៩-ទី១៥)\n២. ឧដុង្គ (កណ្ដាល) - រាជធានីសម័យក្រោយអង្គរ (សតវត្សទី១៦-ទី១៩)\n៣. ភ្នំពេញ (បច្ចុប្បន្ន) - រាជធានីតាំងពីឆ្នាំ១៨៦៥មក។\n\nរាជធានីនីមួយៗមានសារៈសំខាន់ខាងប្រវត្តិសាស្ត្រ វប្បធម៌ និងស្ថាបត្យកម្មផ្សេងៗគ្នា។',

                    'តើប្រាសាទបុរាណភាគច្រើនស្ថិតនៅខេត្តណា?': 'ប្រាសាទបុរាណភាគច្រើនស្ថិតនៅខេត្តសៀមរាប ដែលជាតំបន់អង្គរបុរាណ។\n\nតំបន់អង្គរមានប្រាសាទចំនួនជាង១០០០កន្លែង រួមមានប្រាសាទអង្គរវត្តដ៏ល្បីល្បាញ ដែលត្រូវបានសាងសង់ឡើងដោយព្រះមហាក្សត្រខ្មែរយ៉ាងច្រើនសន្ធឹកសន្ធាប់ក្នុងសម័យអង្គរ (សតវត្សទី៩-ទី១៥)។\n\nប្រាសាទទាំងនេះជាសក្ខីភាពនៃភាពអស្ចារ្យនៃអារ្យធម៌ខ្មែរបុរាណ និងបច្ចេកវិទ្យាសំណង់ដ៏កម្រ។',

                    // Quantum Physics (10 questions)
                    'តើអ្វីជាម៉ាស៊ីនគណនាក្វង់តំ?': 'ម៉ាស៊ីនគណនាក្វង់តំគឺជាឧបករណ៍ដែលប្រើលក្ខណៈក្វង់តំដើម្បីធ្វើការគណនា។\n\nវាអាចដោះស្រាយបញ្ហាស្មុគស្មាញដែលម៉ាស៊ីនគណនាធម្មតាមិនអាចធ្វើបាន ដូចជា៖\n- កត្តាចំនួនធំ\n- ការធ្វើគំរូម៉ូលេគុល\n- ការស្ទង់មតិអុបទិក\n- បញ្ហាបង្កើតថ្នាំថ្មី\n\nម៉ាស៊ីនគណនាក្វង់តំប្រើ qubit (quantum bit) ជំនួសអោយ bit ធម្មតា ដែលអាចស្ថិតក្នុងស្ថានភាព superposition (ច្រើនស្ថានភាពក្នុងពេលតែមួយ)។',

                    'តើអ្វីជាគោលការណ៍មិនច្បាស់លាស់របស់ហៃសែនប៊ែក?': 'គោលការណ៍មិនច្បាស់លាស់របស់ហៃសែនប៊ែកចែងថា៖\n"មិនអាចវាស់ទីតាំងនិងល្បឿនរបស់អេឡិចត្រុងក្នុងពេលតែមួយបានដោយយុត្តិធម៌ទេ។ ការវាស់វែងមួយកាន់តែត្រឹមត្រូវ ការវាស់វែងមួយទៀតកាន់តែមិនត្រឹមត្រូវ។"\n\nគោលការណ៍នេះបង្ហាញពីដែនកំណត់ជាមូលដ្ឋាននៃការវាស់វែងក្នុងចក្រវាលអាតូមិក ហើយមានផលប៉ះពាល់យ៉ាងធំទៅលើការយល់ដឹងរបស់យើងអំពីធម្មជាតិនៃសារធាតុនៅកម្រិតអាតូមិក។',

                    // Mathematics in Science (10 questions)
                    'តើអ្វីជាចំនួនអាយឡែរ?': 'ចំនួនអាយឡែរ (e) គឺជាចំនួនអសនិទានប្រហែល២.៧១៨២៨ ដែលជាមូលដ្ឋាននៃលោការីតធម្មជាតិ។\n\nសារៈសំខាន់៖\n- ក្នុងការគណនាកំណើនអិចស្ប៉ូណង់ស្យែល\n- ក្នុងការរំលាយធាតុគីមី\n- ក្នុងប្រព័ន្ធឌីផេរ៉ង់ស្យែល\n- ក្នុងទ្រឹស្ដីប្រូបាប៊ីលីតេ\n\nវាជាចំនួនគណិតវិទ្យាដ៏សំខាន់មួយដែលជួបប្រទះនៅក្នុងធម្មជាតិយ៉ាងញឹកញាប់។',

                    'តើអ្វីជាទ្រឹស្តីបទពីតាគ័រ?': 'ទ្រឹស្តីបទពីតាគ័រចែងថា៖\n"ក្នុងត្រីកោណមាង្បូង ផ្ទៃការ៉េនៃអ៊ីប៉ូតេនុសស្មើនឹងផលបូកផ្ទៃការ៉េនៃជ្រុងពីរផ្សេងទៀត" (a² + b² = c²)។\n\nសារៈសំខាន់៖\n- ជាមូលដ្ឋានសម្រាប់ធរណីមាត្រវិភាគ\n- អាចអនុវត្តក្នុងជីវិតប្រចាំថ្ងៃសម្រាប់គណនាចម្ងាយ\n- ជាមូលដ្ឋានសម្រាប់ទ្រឹស្ដីគណិតវិទ្យាជាច្រើនទៀត\n\nទ្រឹស្ដីបទនេះត្រូវបានដាក់ឈ្មោះតាមគណិតវិទូជនជាតិក្រិកឈ្មោះពីតាគ័រ ប៉ុន្តែត្រូវបានគេស្គាល់មុខជាង៦០០ឆ្នាំមុនគ្រិស្តសករាជ។',

                    // Emerging Technologies (15 questions)
                    'តើអ្វីជាប្លុកឈៀន?': 'ប្លុកឈៀនគឺជាបច្ចេកវិទ្យាថតឯកសារឌីជីថលដែលមានសុវត្ថិភាព មិនអាចកែប្រែបាន និងចែករំលែកតាមបណ្តាញ។\n\nលក្ខណៈសំខាន់៖\n- ប្រើប្រាស់ក្រុមហ៊ុន cryptography ដើម្បីធានាសុវត្ថិភាព\n- គ្មានអង្គការកណ្ដាលគ្រប់គ្រង\n- គ្រប់អ្នកចូលរួមមានសំណុំទិន្នន័យដូចគ្នា\n\nឧទាហរណ៍៖ Bitcoin គឺជាកម្មវិធីដំបូងគេបំផុតដែលប្រើប្រាស់បច្ចេកវិទ្យាប្លុកឈៀន។ បច្ចេកវិទ្យានេះកំពុងត្រូវបានអនុវត្តក្នុងវិស័យផ្សេងៗដូចជា៖ ហិរញ្ញវត្ថុ សង្គម សុវត្ថិភាពអាហារ និងការគ្រប់គ្រងឯកសាររដ្ឋបាល។',

                    'តើអ្វីជាការបោះពុម្ព3D?': 'ការបោះពុម្ព3Dគឺជាដំណើរការបង្កើតវត្ថុរឹងពីឯកសារឌីជីថលតាមរយៈការដាក់ស្រទាប់សម្ភារៈជាបន្តបន្ទាប់។\n\nប្រភេទសំខាន់ៗ៖\n- FDM (Fused Deposition Modeling) - ប្រើប្លាស្ទិករាវ\n- SLA (Stereolithography) - ប្រើរ៉េស៊ីនដែលរឹងដោយពន្លឺ UV\n- SLS (Selective Laser Sintering) - ប្រើធូលីដែលរឹងដោយអុចឡាស៊ែរ\n\nកម្មវិធី៖\n- ឧស្សាហកម្ម (គ្រឿងផ្គុំរាង)\n- វេជ្ជសាស្ត្រ (គ្រឿងបំពាក់ផ្ទាល់ខ្លួន)\n- សំណង់ (ផ្ទះ3D)\n- ផលិតផលប្រើប្រាស់ (ស្បែកជើង គ្រឿងតុ)\n\nបច្ចេកវិទ្យានេះកំពុងបដិសេធវិស័យផលិតកម្ម ដោយអនុញ្ញាតឱ្យអ្នករចនាបង្កើតគំរូដោយខ្លួនឯងយ៉ាងងាយស្រួល។',

                    // សំណួរទូទៅអំពីភូមិសាស្ត្រកម្ពុជា
                    'តើកម្ពុជាមានផ្ទៃដីសរុបប៉ុន្មាន?': 'កម្ពុជាមានផ្ទៃដីសរុបប្រមាណ ១៨១,០៣៥ គីឡូម៉ែត្រការ៉េ។\n\nការប្រៀបធៀប៖\n- ធំជាងអង់គ្លេសបន្តិច (១៣០,០០០គម២)\n- តូចជាងវៀតណាម (៣៣១,០០០គម២)\n- ស្មើនឹង១/៣នៃប្រទេសបារាំង\n\nនេះគឺជាប្រទេសធំជាងគេទី៨០នៅក្នុងពិភពលោក និងធំជាងគេទី៩នៅអាស៊ីអាគ្នេយ៍។',

                    'តើកម្ពុជាមានព្រំប្រទល់ជាមួយប្រទេសណាខ្លះ?': 'កម្ពុជាមានព្រំប្រទល់ជាមួយប្រទេស៤គឺ៖\n១. ថៃ (ខាងលិចនិងខាងជើង) - ព្រំប្រទល់វែងជាងគេ (៨០០គម)\n២. ឡាវ (ខាងជើង) - ព្រំប្រទល់ខ្លីជាងគេ (៥៤០គម)\n៣. វៀតណាម (ខាងកើតនិងខាងត្បូង) - ព្រំប្រទល់សំខាន់ខាងពាណិជ្ជកម្ម\n៤. ឈូងសមុទ្រថៃ (ខាងត្បូង) - មានឆ្នេរសមុទ្រប្រវែង៤៤០គម\n\nព្រំប្រទល់សរុប៖ ២,៥៣០គម (ដីគោក) + ៤៤០គម (សមុទ្រ)',

                    'តើទន្លេសាបមានទំហំប៉ុន្មាន?': 'ទន្លេសាបជាបឹងធម្មជាតិធំបំផុតនៅអាស៊ីអាគ្នេយ៍។\n\nទំហំប្រែប្រួលតាមរដូវ៖\n- រដូវប្រាំង៖ ប្រហែល៣០០០គីឡូម៉ែត្រការ៉េ\n- រដូវវស្សា៖ អាចដល់១៦០០០គីឡូម៉ែត្រការ៉េ (ធំជាង៥ដង)\n\nជាប្រព័ន្ធអេកូឡូស៊ីសំខាន់ ដែលផ្ដល់៩០%នៃត្រីសាបសម្រាប់ប្រជាជនកម្ពុជា និងជាទីជម្រកសត្វជលផលនិងបក្សីរាប់ពាន់ប្រភេទ។',

                    'តើភ្នំឧទ្យានជាតិព្រះសីហនុមានអ្វីខ្លះ?': 'ភ្នំឧទ្យានជាតិព្រះសីហនុ៖\n- ទីតាំង៖ ខេត្តកោះកុង\n- ផ្ទៃដី៖ ២២០០០ហិកតា\n- រុក្ខជាតិ៖ ព្រៃភ្នំសំបូរបែប\n- សត្វព្រៃ៖ ខ្លាធំ ដំរី គោព្រៃ បក្សីចម្លែកៗ\n- អត្ថបទ៖ ជាទីកន្លែងទេសចរណ៍ល្បី មានអាកាសធាតុត្រជាក់ និងជាទីជម្រកសត្វព្រៃសំខាន់។\n\nឧទ្យាននេះត្រូវបានចាត់ទុកថាជាផ្ទះចុងក្រោយរបស់សត្វព្រៃជាច្រើនប្រភេទនៅកម្ពុជា។',

                    'តើខេត្តណានៅខាងត្បូងបំផុតរបស់កម្ពុជា?': 'ខេត្តកោះកុងគឺជាខេត្តដែលនៅខាងត្បូងបំផុតរបស់កម្ពុជា។\n\nលក្ខណៈពិសេស៖\n- មានព្រំប្រទល់ជាប់ឈូងសមុទ្រថៃ\n- មានកោះជាច្រើន\n- ជាច្រកចេញចូលសំខាន់តាមសមុទ្រ\n- មានឧទ្យានជាតិព្រះសីហនុ\n- ជាតំបន់ទេសចរណ៍ល្បីល្បាញ\n\nខេត្តនេះមានអត្ថន័យយ៉ាងខ្លាំងចំពោះសន្តិសុខសេដ្ឋកិច្ច និងបរិស្ថានរបស់ប្រទេស។',

                    'តើខេត្តណាមានចំនួនប្រជាជនច្រើនជាងគេ?': 'រាជធានីភ្នំពេញគឺជាទីក្រុងដែលមានចំនួនប្រជាជនច្រើនជាងគេ (ប្រមាណ ២.២ លាននាក់ ឆ្នាំ២០២៣)។\n\nចំណែកខេត្តមានប្រជាជនច្រើនជាងគេគឺខេត្តកំពង់ធំ។\n\nកត្តាប៉ះពាល់៖\n- ការធ្វើអភិវឌ្ឍន៍សេដ្ឋកិច្ច\n- ឱកាសការងារ\n- សេវាកម្មសង្គម\n- ស្ថានភាពហេដ្ឋារចនាសម្ព័ន្ធ\n\nការប្រមូលផ្ដុំប្រជាជនក្នុងទីក្រុងធំៗគឺជាប្រព័ន្ធទូទៅនៃការអភិវឌ្ឍន៍សេដ្ឋកិច្ច។',

                    'តើកម្ពុជាមានខេត្តចំនួនប៉ុន្មាន?': 'កម្ពុជាមានចំនួន២៥ខេត្ត រួមមាន៖\n- រាជធានីភ្នំពេញ (មិនរាប់បញ្ចូលជាខេត្ត)\n- ខេត្ត២៤\n\nការបែងចែករដ្ឋបាល៖\n- ត្រូវបានរៀបចំឡើងវិញនៅឆ្នាំ២០០៨\n- មានស្រុក ឃុំ និងភូមិជាច្រើនទៀត\n- រាជធានីនិងខេត្តនីមួយៗមានរដ្ឋបាលដាច់ដោយឡែក\n\nការចែកចាយដែនដីគឺផ្អែកលើលក្ខណៈភូមិសាស្ត្រ ប្រវត្តិសាស្ត្រ និងសម្របសម្រួលរដ្ឋបាល។',

                    'តើភ្នំព្រះវិហារមានកំពស់ប៉ុន្មាន?': 'ភ្នំព្រះវិហារមានកំពស់៦៥៧ម៉ែត្រពីមុខនឹងសមុទ្រ។\n\nលក្ខណៈពិសេស៖\n- ស្ថិតនៅភាគខាងជើងនៃខេត្តព្រះវិហារ\n- ជាទីតាំងប្រាសាទព្រះវិហារដ៏សោភ័ណ\n- ជាប់ព្រំដែនជាមួយប្រទេសថៃ\n- ជាតំបន់ទេសចរណ៍ល្បីល្បាញ\n\nភ្នំនេះមានសារៈសំខាន់ខាងប្រវត្តិសាស្ត្រ និងជាតំបន់អាស្រមព្រះពុទ្ធសាសនា។',

                    'តើទន្លេមេគង្គហូរកាត់ខេត្តណាខ្លះនៅកម្ពុជា?': 'ទន្លេមេគង្គហូរកាត់៦ខេត្តនៃកម្ពុជា៖\n១. ស្ទឹងត្រែង\n២. ក្រចេះ\n៣. កំពង់ចាម\n៤. ខេត្តកណ្ដាល\n៥. ភ្នំពេញ\n៦. ខេត្តតាកែវ\n\nសារៈសំខាន់៖\n- ជាប្រភពទឹកសំខាន់\n- ជាប្រព័ន្ធដឹកជញ្ជូនសំខាន់\n- ផ្ដល់ជីវជាតិសម្រាប់កសិកម្ម\n- ជាប្រព័ន្ធអេកូឡូស៊ីសំខាន់\n\nទន្លេមេគង្គជាប្រភពជីវិតដ៏សំខាន់សម្រាប់ប្រជាជនកម្ពុជា។',

                    'តើខេត្តណាមានព្រំប្រទល់ជាមួយប្រទេសថៃ?': 'ខេត្តដែលមានព្រំប្រទល់ជាមួយថៃមាន៖\n១. បន្ទាយមានជ័យ\n២. ឧត្ដរមានជ័យ\n៣. ព្រះវិហារ\n៤. សៀមរាប\n៥. បាត់ដំបង\n\nព្រំប្រទល់ថៃ-កម្ពុជា៖\n- មានប្រវែងសរុបប្រហែល៨០០គីឡូម៉ែត្រ\n- មានច្រកព្រំដែនសំខាន់ៗជាច្រើន\n- ជាព្រំដែនដែលមានវិវាទខ្លះៗ\n\nព្រំដែននេះមានសារៈសំខាន់ខាងសន្តិសុខ និងសេដ្ឋកិច្ចសម្រាប់ប្រទេសទាំងពីរ។',

                    // សំណួរអំពីភ្នំនិងជ្រលងភ្នំ
                    'តើភ្នំដំបូងបំផុតនៅកម្ពុជាឈ្មោះអ្វី?': 'ភ្នំដំបូងបំផុតនៅកម្ពុជាគឺភ្នំគូលែន។\n\nព័ត៌មានលម្អិត៖\n- ទីតាំង៖ ខេត្តសៀមរាប\n- កំពស់៖ ៤៨៧ម៉ែត្រ\n- សារៈសំខាន់ប្រវត្តិសាស្ត្រ៖ ជាទីកន្លែងដែលព្រះបាទជ័យវរ្ម័នទី២បានប្រកាសឯករាជ្យពីជ្វា\n- ស្ថាបត្យកម្ម៖ មានប្រាសាទបុរាណជាច្រើននៅលើភ្នំ\n\nភ្នំនេះត្រូវបានគេស្គាល់ថាជា "ភ្នំដើម" នៃអាណាចក្រខ្មែរ។',


                    'តើភ្នំណាខ្ពស់ជាងគេនៅកម្ពុជា?': 'ភ្នំអូរឡាវគឺជាភ្នំខ្ពស់ជាងគេនៅកម្ពុជា\nមានកំពស់១៨១៣ម៉ែត្រ\nស្ថិតនៅខេត្តព្រះវិហារ។\nភ្នំនេះមានសារៈសំខាន់ខ្លាំងក្នុងវិស័យបរិស្ថាន និងសេដ្ឋកិច្ច។',

                    'តើភ្នំគូលែនសំខាន់យ៉ាងណា?': 'ភ្នំគូលែនមានសារៈសំខាន់ខាងប្រវត្តិសាស្ត្រ\nដោយជាទីកន្លែងដែលព្រះបាទជ័យវរ្ម័នទី២\nបានប្រកាសឯករាជ្យពីជ្វា\nនិងបង្កើតចក្រភពអង្គរ។\nកន្លែងនេះក៏ជាទីនំនាំជំនាញសាសនាព្រះពុទ្ធ\nនិងមានប្រាសាទអង្គរខាងលើ។',

                    'តើភ្នំបូកគោមានលក្ខណៈអ្វីពិសេស?': 'ភ្នំបូកគោស្ថិតនៅខេត្តកំពត\nមានអាកាសធាតុត្រជាក់ពេញមួយឆ្នាំ\nមានទេសភាពស្រស់ស្អាត\nនិងជាកន្លែងដំណើរកំសាន្តល្បី។\nបូកគោមានវត្តបូកគោនិងអគារចាស់\nដែលមានស្រាប់តាំងពីសម័យបារាំង។',

                    'តើភ្នំក្រវាញមានអ្វីពិសេស?': 'ភ្នំក្រវាញស្ថិតនៅខេត្តកំពង់ស្ពឺ\nមានរមណីយដ្ឋានដ៏ល្បី\nនិងជាទីតាំងរោងចក្រក្រដាសដ៏ធំ។\nតំបន់នេះមានចំការកាហ្វេនិងភ្នំអេកូឡូស៊ី\nដែលទាក់ទាញភ្ញៀវទេសចរ។',

                    // សំណួរអំពីទន្លេនិងបឹង
                    'តើទន្លេសាបសំខាន់យ៉ាងណាចំពោះកម្ពុជា?': 'ទន្លេសាបជាប្រភពចំណីសំខាន់របស់ប្រជាជនកម្ពុជា\nផ្ដល់៩០%នៃអាហារត្រីក្នុងប្រទេស\nនិងជាប្រព័ន្ធអេកូឡូស៊ីដ៏សំខាន់។\nមិនត្រឹមតែប៉ុណ្ណោះទេ ទន្លេសាបក៏ជាប្រភពទឹកសំខាន់\nដែលជួយលំនឹងជីវភាពប្រជាជនជាច្រើន។',

                    'តើទន្លេសាបមានប្រវែងប៉ុន្មាន?': 'ទន្លេសាបមានប្រវែងប្រហែល២៥០គីឡូម៉ែត្រ\nហូរពីភ្នំដាប់រន្ធពពាលខាងជើង\nដល់ទន្លេមេគង្គនៅខេត្តកំពង់ចាម។\nបឹងនេះអាចពង្រីកដល់៥គុណបើធ្លាក់ភ្លៀងច្រើន។',

                    'តើទន្លេមេគង្គមានប្រវែងសរុបប៉ុន្មាន?': 'ទន្លេមេគង្គមានប្រវែងសរុប៤៣៥០គីឡូម៉ែត្រ\nជាទន្លេវែងជាងគេទី១២នៅពិភពលោក\nហូរកាត់៦ប្រទេស។\nទន្លេនេះជាប្រភពទឹកដ៏សំខាន់សម្រាប់កសិកម្មនិងជីវភាពប្រជាជន។',

                    'តើបឹងទន្លេសាបមានសារៈសំខាន់អ្វី?': 'បឹងទន្លេសាបជាប្រព័ន្ធអេកូឡូស៊ីសំខាន់\nជាប្រភពត្រីសំខាន់\nនិងជាប្រព័ន្ធតំណក់ទឹកធម្មជាតិដ៏ធំ។\nវាជាកន្លែងរស់នៅនៃសត្វបក្សីនិងប្រភេទសត្វជាច្រើន។',

                    // សំណួរអំពីអាកាសធាតុ
                    'តើកម្ពុជាមានរដូវអ្វីខ្លះ?': 'កម្ពុជាមានរដូវ២គឺ៖\nរដូវប្រាំង (ខែវិច្ឆិកា-ខែមេសា)\nនិងរដូវវស្សា (ខែឧសភា-ខែតុលា)។\nរដូវប្រាំងមានសីតុណ្ហភាពខ្ពស់ ខណៈរដូវវស្សាមានភ្លៀងច្រើន។',

                    'តើខេត្តណាមានភ្លៀងធ្លាក់ច្រើនជាងគេ?': 'ខេត្តកោះកុងមានភ្លៀងធ្លាក់ច្រើនជាងគេ\nជាមធ្យម៤០០០មមក្នុងមួយឆ្នាំ។\nបណ្តាលឲមានព្រៃឈើដុំធំ និងប្រព័ន្ធជលសម្បទា។',

                    'តើសីតុណ្ហភាពមធ្យមនៅកម្ពុជាប៉ុន្មាន?': 'សីតុណ្ហភាពមធ្យមនៅកម្ពុជាមានចន្លោះ២៥-៣០°C\nដោយខែមេសាជាខែក្តៅជាងគេ\nនិងខែធ្នូជាខែត្រជាក់ជាងគេ។\nអាកាសធាតុនេះល្អសម្រាប់កសិកម្មនិងទេសចរណ៍។',

                    // សំណួរអំពីធនធានធម្មជាតិ
                    'តើកម្ពុជាមានរ៉ែអ្វីខ្លះ?': 'កម្ពុជាមានរ៉ែជាច្រើនប្រភេទដូចជា៖\nមាស\nត្បូង\nដែក\nអាលុយមីញ៉ូម\nបារក់\nនិងថ្មបំពង់។\nរ៉ែទាំងនេះអាចមានតម្លៃខ្ពស់ក្នុងវិស័យសេដ្ឋកិច្ច។',

                    'តើព្រៃឈើកម្ពុជាមានចំនួនប៉ុន្មាន?': 'នៅឆ្នាំ២០២០\nកម្ពុជាមានព្រៃឈើប្រមាណ៤៦%នៃផ្ទៃដីសរុប\nឬប្រហែល៨.៥លានហិកតា។\nការកាត់បន្ថយព្រៃឈើអាចបណ្តាលឲមានបញ្ហាបរិស្ថាន។',

                    'តើឧទ្យានជាតិវីរជ័យមានទីតាំងនៅខេត្តណា?': 'ឧទ្យានជាតិវីរជ័យស្ថិតនៅខេត្តស្ទឹងត្រែង\nមានផ្ទៃដី៣៣២៥០០ហិកតា\nជាឧទ្យានជាតិធំជាងគេ។\nវាជាតំបន់អេកូឡូស៊ីដ៏សំខាន់។',

                    // Space Technology (15 questions)

                    'តើអ្វីជាផ្កាយរណប?': 'ផ្កាយរណបគឺជាវត្ថុដែលធ្វើចលនាជុំវិញវត្ថុមួយទៀតដោយសារកម្លាំងទំនាញ។\nផ្កាយរណបអាចជាធម្មជាតិ (ដូចជាព្រះចន្ទ) ឬសិប្បនិម្មិត (ដូចជាផ្កាយរណបGPS)។\nវាមានចលនាតាមគន្លងអេលីប ហើយល្បឿនរបស់វាត្រូវតែសមស្របដើម្បីរក្សាសម្ពាធទំនាញជាមួយវត្ថុមេ។\nផ្កាយរណបសិប្បនិម្មិតត្រូវបានប្រើសម្រាប់ទូរគមនាគមន៍ ការព្យាករណ៍អាកាសធាតុ និងការស្រាវជ្រាវអវកាស។',

                    'តើអ្វីជាប្រព័ន្ធចរន្តអវកាស?': 'ប្រព័ន្ធចរន្តអវកាសគឺជាបណ្តាញយោធា វិទ្យាសាស្ត្រ និងបច្ចេកវិទ្យាដែលជួយសិក្សាអវកាស។\nវារួមមាន៖\n1. ផ្កាយរណប (សម្រាប់ទូរគមនាគមន៍ ទីតាំង និងការសង្កេត)\n2. យានអវកាស (ដូចជាតេលេស្កុប Hubble)\n3. ស្ថានីយអវកាស (ដូចជាISS)\n4. រ៉ុក្កែត និងប្រព័ន្ធចាប់ចោល\n5. ស្ថានីយគ្រប់គ្រងផ្កាយរណបនៅផែនដី។\nប្រព័ន្ធនេះជួយយើងយល់ពីចក្រវាឡ ព្យាករអាកាសធាតុ និងភ្ជាប់ទំនាក់ទំនងអន្តរជាតិ។',

                    'តើអ្វីជាប្រសិទ្ធភាពនៃរ៉ុក្កែត?': 'ប្រសិទ្ធភាពរ៉ុក្កែតត្រូវបានវាស់ដោយសមាមាត្រនៃម៉ាស់ដែលអាចលើកបានទៅនឹងម៉ាស់ឥន្ធនៈ។\nរ៉ុក្កែតទំនើបមានប្រសិទ្ធភាព៩០% ដោយសារ៖\n1. ប្រើច្បាប់ចលនាទី៣របស់ញូតុន (សកម្មភាព-ប្រតិកម្ម)\n2. ការរចនាម៉ាស៊ីនបំលាស់ទីដ៏ល្អ\n3. ឥន្ធនៈដែលមានថាមពលខ្ពស់\n4. ប្រព័ន្ធចាត់ថ្នាក់ដែលលោតចេញនៅពេលឥន្ធនៈអស់\nកត្តាដែលជះឥទ្ធិពលដល់ប្រសិទ្ធភាពរួមមានទំងន់រ៉ុក្កែត ល្បឿនចេញ និងធន់ទ្រាំអាកាស។'
                    ,

                    // Renewable Energy (15 questions)

                    'តើអ្វីជាថាមពលព្រះអាទិត្យហើយវាដំណើរការយ៉ាងដូចម្តេច?': 'ថាមពលព្រះអាទិត្យគឺជាថាមពលដែលទទួលបានពីពន្លឺព្រះអាទិត្យតាមរយៈ៖\n1. បន្ទះសុរិយោ (PV) - បំលែងពន្លឺទៅជាអគ្គិសនី\n2. ថាមពលសុរិយោកំដៅ - ប្រើកំដៅព្រះអាទិត្យដើម្បីបង្កើតចំហាយ\nប្រព័ន្ធថាមពលព្រះអាទិត្យមាន៖\n- កែវទទួលពន្លឺ\n- សៀគ្វីអេឡិចត្រូនិកសម្រាប់បំលែងថាមពល\n- ថ្មសារធាតុចងចាំសម្រាប់ការប្រើប្រាស់ពេលយប់\nអត្ថប្រយោជន៍រួមមានការកាត់បន្ថយការបំភាយកាបូន និងថ្លៃដើមប្រតិបត្តិការទាប។',

                    'តើអ្វីជាអត្ថប្រយោជន៍នៃថាមពលខ្យល់?': 'អត្ថប្រយោជន៍សំខាន់ៗនៃថាមពលខ្យល់៖\n1. ប្រភពថាមពលស្អាត - មិនបំភាយឧស្ម័នផ្ទះកញ្ចក់\n2. អាចជំនួសបាន - ខ្យល់គ្មានថ្ងៃអស់\n3. ប្រសិទ្ធភាពថ្លៃដើម - ថ្លៃដើមប្រតិបត្តិការទាបបន្ទាប់ពីដំឡើង\n4. អាចប្រើបាននៅតំបន់ដាច់ស្រយាល\n5. បង្កើតការងារ - ឧស្សាហកម្មថ្មី\n6. អាចរួមបញ្ចូលជាមួយស្រះទឹក\n7. ទំហំអាចផ្លាស់ប្តូរតាមតម្រូវការ ពីកុងស្តុងតូចដល់កសិដ្ឋានខ្យល់ធំ។',

                    'តើអ្វីជាបច្ចេកវិទ្យាថាមពលជីវៈ?': 'បច្ចេកវិទ្យាថាមពលជីវៈគឺជាការបំលែងវត្ថុធាតុដើមជីវៈទៅជាថាមពល។\nវិធីសំខាន់ៗ៖\n1. ជាតិប្រេងជីវៈ - ពីដំណាំ (ដូចជាអង្កាម ស្កក)\n2. ឧស្ម័នជីវៈ - ពីសំណល់សរីរាង្គ\n3. ការឆេះដោយផ្ទាល់ - សំណល់ឈើ\n4. ការបំបែកគីមី - សំណល់កសិកម្ម\nអត្ថប្រយោជន៍៖\n- ប្រើប្រាស់សំណល់កសិកម្ម\n- កាត់បន្ថយការបំភាយកាបូន\n- អាចផលិតក្នុងស្រុក\nបញ្ហាប្រឈម៖\n- ប្រើដីដែលអាចដាំដំណាំអាហារ\n- អាចនាំឱ្យមានការដីសើម។'
                    ,

                    // Genetics (15 questions)

                    'តើអ្វីជាហ្សែន?': 'ហ្សែនគឺជាផ្នែកនៃDNAដែលកំណត់លក្ខណៈជាក់លាក់។\nលក្ខណៈសំខាន់៖\n1. ជាឯកតានៃការបន្តពូជ\n2. ផលិតប្រូតេអ៊ីនតាមរយៈកូដហ្សែន\n3. អាចមានជំនាន់ផ្សេងៗ (alleles)\n4. ត្រូវបានរៀបចំនៅលើគ្រូសូម៉ូស។\nមនុស្សមានហ្សែន២០,០០០-២៥,០០០ ដែលកំណត់អ្វីៗគ្រប់យ៉ាងពីពណ៌ភ្នែកដល់ស្លាកស្នាមជំងឺ។\nហ្សែនអាចមានការផ្លាស់ប្តូរ (មូតាស្យុង) ដែលអាចនាំឱ្យមានភាពខុសប្លែកគ្នា ឬជំងឺហ្សែន។',

                    'តើCRISPR-Cas9 គឺជាអ្វី?': 'CRISPR-Cas9 គឺជាបច្ចេកវិទ្យាកែប្រែហ្សែនដែលមាន៖\n1. ភាពត្រឹមត្រូវខ្ពស់ - អាចកាត់DNAនៅកន្លែងជាក់លាក់\n2. ប្រើប្រាស់ងាយ - ថោកជាងវិធីដទៃ\n3. អាចជាការកែសំរួលមិនអចិន្ត្រៃយ៍ ឬអចិន្ត្រៃយ៍\nការអនុវត្ត៖\n- ព្យាបាលជំងឺហ្សែន (ដូចជាស៊ីស្គីលសែល)\n- កែលម្អដំណាំ\n- លុបវាស៊ីសរបស់មេរោគ\nបញ្ហាប្រឈម៖\n- បញ្ហាសីលធម៌នៃការកែប្រែហ្សែនមនុស្ស\n- ផលប៉ះពាល់ដែលមិនបានគ្រោងទុក។',

                    'តើអ្វីជាភាពខុសគ្នារវាងDNAនិងRNA?': 'ភាពខុសគ្នាសំខាន់ៗរវាងDNAនិងRNA៖\n1. ស្ករ៖\n- DNA៖ ឌីអុកស៊ីរីប៊ូស\n- RNA៖ រីប៊ូស\n2. រសាយនៈ៖\n- DNA៖ មានខ្សែពីរ (double helix)\n- RNA៖ មានខ្សែតែមួយ\n3. ប្រូតេអ៊ីន៖\n- DNA៖ ថយមីន (T)\n- RNA៖ យូរ៉ាស៊ីល (U)\n4. ទីតាំង៖\n- DNA៖ ស្នូល (និងម៉ាយតូកុងទ្រី)\n- RNA៖ ស្នូល ស៊ីតូផ្លាស់ រីប៊ូសូម\n5. តួនាទី៖\n- DNA៖ ផ្ទុកព័ត៌មានហ្សែន\n- RNA៖ បំលែងព័ត៌មានទៅជាប្រូតេអ៊ីន។'
                    ,

                    // Nanotechnology (12 questions)

                    'តើអ្វីជាបច្ចេកវិទ្យាណាណូ?': 'បច្ចេកវិទ្យាណាណូគឺជាការរុករក និងអនុវត្តវត្ថុនៅកម្រិត១-១០០ណាណូម៉ែត្រ។\nលក្ខណៈសំខាន់៖\n1. ទំហំតូចជាងកោសិកា ប៉ុន្តែធំជាងអាតូម\n2. មានលក្ខណៈខុសពីសម្ភារៈធម្មតា\n3. អាចរចនាតាមតម្រូវការ\nកម្មវិធី៖\n- វេជ្ជសាស្ត្រ៖ ដឹកជញ្ជូនថ្នាំច្បាស់លាស់\n- អេឡិចត្រូនិក៖ ឧបករណ៍តូចជាង លឿនជាង\n- សម្ភារៈ៖ កម្លាំងខ្ពស់ ទម្ងន់ស្រាល\n- ថាមពល៖ ថ្មប្រសិទ្ធភាពខ្ពស់\nបញ្ហាប្រឈម៖ ផលប៉ះពាល់សុខភាព និងបរិស្ថាន។',

                    'តើណាណូម៉ាស៊ីនអាចធ្វើអ្វីបានខ្លះ?': 'ណាណូម៉ាស៊ីន (ម៉ាស៊ីនកម្រិតណាណូ) អាច៖\n1. វេជ្ជសាស្ត្រ៖\n- ដឹកជញ្ជូនថ្នាំចូលក្នុងរាងកាយ\n- បំផ្លាញកោសិកាមហារីក\n- ជួសជុលកោសិកាខូច\n2. ផលិតកម្ម៖\n- សម្អាតឧស្ម័នពុល\n- ផលិតសម្ភារៈថ្មី\n3. អេឡិចត្រូនិក៖\n- បង្កើតសៀគ្វីតូចជាង\n- បង្កើតកុំព្យូទ័រលឿនជាង\n4. ថាមពល៖\n- បង្កើតថ្មដែលអាចសាកបានលឿន\n- បង្កើតបន្ទះសុរិយោប្រសើរជាង។'
                    ,

                    // Robotics (15 questions)

                    'តើអ្វីជាសារពាង្គកាយយន្ត?': 'សារពាង្គកាយយន្តគឺជាម៉ាស៊ីនដែលអាច៖\n1. ធ្វើសកម្មភាពស្វ័យប្រវត្តិ ឬក្រោមការគ្រប់គ្រងពីចម្ងាយ\n2. ចាប់យក និងដំណើរការព័ត៌មានពីបរិស្ថាន\n3. ធ្វើការងារដែលគ្មានសុវត្ថិភាពសម្រាប់មនុស្ស\nប្រភេទ៖\n- ឧស្សាហកម្ម៖ ផលិតកម្មរថយន្ត\n- វេជ្ជសាស្ត្រ៖ វះកាត់\n- សេវាកម្ម៖ សំអាត ឬចែកចាយថ្នាំ\n- អវកាស៖ រុករកភពផ្សេង។',

                    'តើAI និងរូបយន្តខុសគ្នាដូចម្តេច?': 'AI (បញ្ញាសិប្បនិម្មិត) vs រូបយន្ត៖\nAI៖\n- ជាកម្មវិធីកុំព្យូទ័រ\n- អាចរៀន សម្រេចចិត្ត និងដោះស្រាយបញ្ហា\n- អាចដំណើរការដោយគ្មានរាងកាយ\n- ឧទាហរណ៍៖ ChatGPT, ប្រព័ន្ធទំនាក់ទំនង\nរូបយន្ត៖\n- ជាម៉ាស៊ីនដែលមានរាងកាយ\n- អាចធ្វើអំពើរាងកាយ\n- អាចមានឬគ្មានAIក៏បាន\n- ឧទាហរណ៍៖ ដៃយន្តឧស្សាហកម្ម រូបយន្តសំអាត។',

                    'តើអ្វីជាប្រព័ន្ធយន្តសញ្ញាត?': 'ប្រព័ន្ធយន្តសញ្ញាតគឺជាការសិក្សាអំពី៖\n1. ការគ្រប់គ្រងម៉ាស៊ីន\n2. ទំនាក់ទំនងរវាងម៉ាស៊ីន កុំព្យូទ័រ និងមនុស្ស\nធាតុសំខាន់ៗ៖\n- សោភ័ណភាព (ការយល់ឃើញពីបរិស្ថាន)\n- ការយល់ដឹង (ការបកស្រាយទិន្នន័យ)\n- ការធ្វើសកម្មភាព (ឆ្លើយតបទៅនឹងបរិស្ថាន)\nកម្មវិធី៖\n- រូបយន្តស្វ័យប្រវត្តិ\n- ប្រព័ន្ធដឹកជញ្ជូនអាជីវកម្ម\n- ឧបករណ៍វេជ្ជសាស្ត្រដែលគ្រប់គ្រងដោយកុំព្យូទ័រ។'
                    ,

                    // Marine Science (10 questions)

                    'តើអ្វីជាមហាសមុទ្រដ៏ធំបំផុតនៅលើផែនដី?': 'មហាសមុទ្រប៉ាស៊ីហ្វិកគឺជាមហាសមុទ្រដ៏ធំបំផុត៖\n- ផ្ទៃដី៖ ១៦៥.២៥ លានគីឡូម៉ែត្រការ៉េ (៦៣% នៃផ្ទៃផែនដី)\n- ជម្រៅអតិបរមា៖ ១១,០៣៤ម (ជ្រោយម៉ារៀណា)\n- ទីតាំង៖ ពីអាកទិកទៅអង់តាកទិក\nលក្ខណៈពិសេស៖\n1. មានកោះច្រើនជាងគេ (ប្រហែល២៥,០០០កោះ)\n2. មានរង្វង់ភ្លើងប៉ាស៊ីហ្វិក (តំបន់ដែលមានរញ្ជួយដីច្រើន)\n3. មានបឹងប្រជាក់ទឹកដ៏ធំ (Great Pacific Garbage Patch)។',

                    'តើអ្វីជាមូលហេតុនៃរលកសមុទ្រ?': 'រលកសមុទ្រកើតឡើងដោយសារ៖\n1. ខ្យល់ (កម្លាំងរុញរបស់ខ្យល់លើផ្ទៃទឹក) - បង្កើតរលកតូចៗ\n2. កម្លាំងទំនាញព្រះចន្ទ (និងព្រះអាទិត្យ) - បង្កើតរលកធំ (រំហួត)\n3. ការរញ្ជួយដី - បង្កើតស៊ុនាមី\n4. ការផ្លាស់ប្តូរសម្ពាធអាកាស - បង្កើតរលកប៉ូល\n5. យានជំនិះ - បង្កើតរលកតូចៗ\nកត្តាជះឥទ្ធិពលលើទំហំរលក៖\n- ល្បឿនខ្យល់\n- រយៈពេលដែលខ្យល់បក់\n- ទីធ្លាដែលខ្យល់បក់ (fetch)។',

                    // Research Questions

                    'តើសព្វថ្ងៃមានការសិក្សាអ្វីខ្លះអំពីអង្គរ?':
                        "ការសិក្សាអំពីអង្គរសព្វថ្ងៃរួមមាន៖\n១. ការសិក្សាតាមរយៈឡាយ៉ាឆ័ត្រ (LiDAR) ដែលបានរកឃើញទីក្រុងបុរាណ និងប្រព័ន្ធធារាសាស្ត្រស្មុគស្មាញ\n២. ការស្រាវជ្រាវប្រព័ន្ធទឹកចំនួន ១,០០០ ទំនប់ និងប្រឡាយទឹកដែលជាមូលដ្ឋានសេដ្ឋកិច្ចកសិកម្ម\n៣. ការបកស្រាយសិលាចារឹកសំស្ក្រឹត និងខ្មែរបុរាណជាង ១,៣០០ ផ្ទាំង\n៤. ការសិក្សាស្ថាបត្យកម្មតាមបែបវិទ្យាសាស្ត្រដោយប្រើថ្មពិនិត្យ 3D និងការស្តុកទុកឌីជីថល",

                    'តើយើងអាចរក្សាទុកប្រាសាទអង្គរដើម្បីអនាគតដោយរបៀបណា?':
                        "ការអភិរក្សអង្គរត្រូវ៖\n១. ការស្តុកទុកឌីជីថលដោយប្រើស្កេនថ្មពិនិត្យល្បឿនខ្ពស់\n២. ការប្រើប្រាស់ជីវរសាយន៍សម្រាប់ការជ្រាបទឹកនៃថ្មបាយក្រៀម\n៣. ការសហការជាមួយUNESCO និងICCROM ក្នុងការបង្កើតផែនការគ្រប់គ្រងប្រកបដោយចីរភាព\n៤. ការបណ្តុះបណ្តាលជំនាញអភិរក្សស្ថាបត្យកម្មដល់អ្នកជំនាញថ្មីៗ",

                    'តើអង្គរមានឥទ្ធិពលយ៉ាងណាដល់វប្បធម៌ខ្មែរសព្វថ្ងៃ?':
                        "ឥទ្ធិពលសំខាន់ៗ៖\n១. ស្ថាបត្យកម្ម៖ គំរូប្រាសាទភ្នំដែលជាប្រភពចេញសំណង់សាធារណៈសម័យទំនើប\n២. សិល្បៈចម្លាក់៖ ក្បាច់រចនាត្បូងថ្មដែលនៅតែរស់រវើកក្នុងហិបការណ៍\n៣. សាសនា៖ ការប្រកាន់ព្រះពុទ្ធសាសនាថេរវាទជាសាសនារបស់រដ្ឋ\n៤. អត្តសញ្ញាណជាតិ៖ រូបតំណាងបាយ័នដែលក្លាយជានិមិត្តរូបនៃភាពខ្មែរ",

                    'តើអង្គរមានទំនាក់ទំនងអន្តរជាតិយ៉ាងដូចម្តេច?':
                        "ទំនាក់ទំនងអន្តរជាតិរបស់អង្គរ៖\n១. ចិន៖ ការទូតជាមួយសន្តតិវង្សសុង តាមរយៈរបាយការណ៍របស់ចូវ តាក្វាន់\n២. ឥណ្ឌា៖ ការផ្សព្វផ្សាយព្រហ្មញ្ញសាសនា និងប្រព័ន្ធច្បាប់មនុស្សធម៌\n៣. ចាម្ប៉ា៖ ការធ្វើជំនួញសំរឹទ្ធិ និងការប្តូរយកបច្ចេកទេសស្ថាបត្យកម្ម\n៤. ម៉ាឡេស៊ី៖ ការផ្លាស់ប្តូរវប្បធម៌តាមរយៈការធ្វើពាណិជ្ជកម្មសមុទ្រ",

                    'តើអង្គរមានអាណាចក្រប៉ុន្មាននៅក្រោមការគ្រប់គ្រង?':
                        "អាណានិគមអង្គររួមមាន៖\n១. ថៃសម័យសុខោទ័យ៖ ត្រួតត្រាតាមរយៈការបញ្ជូនមេទ័ពជាន់ខ្ពស់\n២. លាវ៖ ការត្រួតត្រាតំបន់វៀងចន្ទន៍តាមរយៈការរៀបអភិសេករវាងរាជវង្ស\n៣. វៀតណាម៖ ការគ្រប់គ្រងតំបន់ដីសណ្តទន្លេមេគង្គខាងត្បូង\n៤. ម៉ាឡេស៊ី៖ ការបង្កើតមជ្ឈមណ្ឌលពាណិជ្ជកម្មនៅតំបន់ត្រាន់ណារ៉ា",

                    'តើជីវភាពប្រចាំថ្ងៃរបស់ប្រជាជនអង្គរមានលក្ខណៈដូចម្តេច?':
                        "ជីវភាពប្រចាំថ្ងៃ៖\n១. កសិកម្ម៖ ដាំស្រូវប្រាំង/វស្សា និងដំណាំបន្តៗដូចជាត្រាវ និងសណ្តែក\n២. សង្គម៖ ការចែកថ្នាក់សង្គមជា៤ ជាន់គឺ ព្រាហ្មណ៍ ក្សត្រ វៃស្យៈ និងស៊ូទ្រ\n៣. សាសនា៖ ការប្រតិបត្តិពិធីបុណ្យទេវរាជ និងការគោរពទេវតាអ្នកតា\n៤. ការងារ៖ ប្រព័ន្ធពលទាហានបង្ក្រាបក្បត់ដោយប្រើស្នៀតដីសម្រាប់ចេញសង្គ្រាម",

                    'តើអ្វីជាបច្ចេកវិទ្យាដ៏អស្ចារ្យបំផុតរបស់អង្គរ?':
                        "បច្ចេកវិទ្យាអស្ចារ្យ៖\n១. ប្រព័ន្ធធារាសាស្ត្រដែលអាចគ្រប់គ្រងទឹកបាន៣លើកក្នុងមួយឆ្នាំ\n២. បច្ចេកទេសការសាងសង់ដោយប្រើថ្មភក់ដែលមានជាតិដែកធម្មជាតិសម្រាប់ភ្ជាប់\n៣. ការរៀបចំផ្កាយរណបតាមតំរុយព្រះអាទិត្យសម្រាប់ការតម្រឹមប្រាសាទ\n៤. ប្រព័ន្ធស្ថិតិគ្រឿងអលង្ការដែលមានភាពត្រឹមត្រូវទៅនឹងចំនួនថ្ងៃក្នុងមួយឆ្នាំ",

                    'តើហេតុអ្វីបានជាព្រះពុទ្ធសាសនាក្លាយជាសាសនាចម្បងនៅអង្គរ?':
                        "កត្តាសំខាន់៖\n១. ការគាំទ្រពីព្រះបាទជ័យវរ្ម័នទី៧ ដែលបានសាងវត្តជាង១០០កន្លែង\n២. ភាពស៊ីជម្រៅនៃការបកប្រែត្រៃបិដកទៅជាភាសាខ្មែរបុរាណ\n៣. ការរួមបញ្ចូលជំនឿទេវរាជជាមួយព្រះពុទ្ធសាសនាធ្វើឱ្យងាយទទួលយក\n៤. ការលើកតំកើងគុណសម្បត្តិសង្គមតាមរយៈគោលធម៌បាដិមោក្ខ",

                    'តើសិលាចារឹកអង្គរភាគច្រើនសរសេរជាភាសាអ្វី?':
                        "ភាសាសិលាចារឹក៖\n១. សំស្ក្រឹត (៩០%) សម្រាប់ពិធីបុណ្យសាសនា និងស្ថាបត្យកម្ម\n២. ខ្មែរបុរាណ (៨%) សម្រាប់ការប្រកាសព្រះរាជឱង្ការ និងការកសាងសាធារណៈ\n៣. បាលី (២%) សម្រាប់ព្រះរាជពិធីព្រះពុទ្ធសាសនាតែប៉ុណ្ណោះ",

                    'តើប្រជាជនអង្គរហូបអ្វី?':
                        "អាហារប្រជាជន៖\n១. បាយស្រូវដែលដាំនៅទំនាបទឹកជំនន់\n២. ត្រីបឹងទន្លេសាបដែលត្រូវបានធ្វើជាប្រហុក និងប៉ាក់\n៣. សាច់សត្វព្រៃដូចជាគោព្រៃ និងរមាំងសម្រាប់ថ្នាក់ខ្ពស់\n៤. បន្លែដំណាំដូចជាត្រឡាច ម្ទេស និងម្រះព្រៅសម្រាប់ធ្វើសម្ល",

                    'តើប្រជាជនអង្គរពាក់អ្វី?':
                        "សម្លៀកបំពាក់៖\n១. ស្ត្រី៖ សំពត់ហូល ដោយប្រើសូត្រពណ៌ស ឬម្សៅពណ៌ធម្មជាតិ\n២. បុរស៖ សារុងពណ៌មាសពីសំយោគសរសៃឈើ\n៣. អ្នកមាន៖ ក្រណាត់សូត្រជាមួយក្បាច់ចម្លាក់ផ្កាយមាស\n៤. ទាហាន៖ អាវក្រោះដែកដែលផលិតពីរ៉ែនៅភ្នំពេញបុរី",

                    'តើប្រជាជនអង្គរមានការកម្សាន្តយ៉ាងដូចម្តេច?':
                        "កម្សាន្ត៖\n១. ល្ខោនស្រមោលដែលដកស្រង់ពីរឿងរាមកេរ្តិ៍\n២. ប្រណាំងទូកទន្លេសាបក្នុងពិធីបុណ្យអកអំបុក\n៣. ល្បែងបុរាណដូចជាចោលឈូង និងទាញព្រ័ត្រ\n៤. សិល្បៈសំដែងរបាំអប្សរាដែលត្រូវបានចារឹកនៅលើជញ្ជាំងប្រាសាទ",

                    // Literature Section

                    'តើអ្វីជាស្នាដៃអក្សរសាស្ត្រដែលទាក់ទងនឹងព្រះពុទ្ធសាសនា?':
                        "ស្នាដៃសំខាន់ៗ៖\n១. ជាតកទសជាតក៖ រឿង១០ជាតកដែលបង្រៀនធម៌សីលធម៌\n២. ធម្មបទរបស់ព្រះពោធិវង្ស៖ កំណាព្យបុរាណសតវត្សរ៍ទី១៤\n៣. មហាជាតក៖ រឿង៥៥០ជាតកដែលបកប្រែពីបាលី\n៤. វេស្សន្តរជាតក៖ រឿងព្រះពោធិសត្វដែលត្រូវបានគោរពយ៉ាងខ្លាំង\n៥. សុត្តន្តបិដក៖ ការបកប្រែជាភាសាខ្មែរនៅសតវត្សរ៍ទី១៦",

                    'តើរឿងល្ខោនខ្មែរបុរាណមានអ្វីខ្លះ?':
                        "ល្ខោនបុរាណ៖\n១. រាមកេរ្តិ៍៖ ការបំរើរឿងរាមាយណៈតាមបែបខ្មែរ\n២. តុមាវត្តី៖ រឿងព្រេងអំពីការបដិបត្តិធម៌\n៣. ឥន្ទ្រវឌ្ឍនៈ៖ រឿងព្រះឥន្ទ្រធ្វើដំណើរចុះមកផែនដី\n៤. សិខារបុរាណ៖ ល្ខោនសំដែងពីជីវិតព្រះសង្ឃ\n៥. រឿងព្រេងប្រជាប្រិយដូចជា កូនក្មេងឆ្កែ និងរឿងទន្សាយឆ្លាត",

                    'តើអក្សរសាស្ត្រខ្មែរមានរបៀបរៀបចំរឿងយ៉ាងដូចម្តេច?':
                        "លក្ខណៈនិពន្ធ៖\n១. ការប្រើបទពាក្យ៧ស្លឹក (ស្លឹករឹត) សម្រាប់កំណាព្យបុរាណ\n២. រចនាបថសរសេរតាមលំដាប់ព្រឹត្តិការណ៍ពេលវេលា\n៣. ការបញ្ចូលពាក្យសម្តីផ្ទាល់ដោយប្រើសញ្ញា េ«» សម្រាប់ការសន្ទនា\n៤. ការប្រើពាក្យប្រៀបធៀបពីធម្មជាតិសម្រាប់ពណ៌នាមនោសញ្ចេតនា",

                    'តើមានសាលានិពន្ធអក្សរសាស្ត្រអ្វីខ្លះនៅកម្ពុជា?':
                        "សាលានិពន្ធសំខាន់ៗ៖\n១. សាលាសម្តេចសង្ឃរាជ ជួន ណាត (១៩៣០-១៩៧០)\n២. សាលាខ្មែរក្រហម (១៩៧៥-១៩៧៩) ដែលផ្តោតលើអក្សរសាស្ត្របដិវត្តន៍\n៣. សាលាសង្គមនិយមបស្ចឹមប្រទេស (១៩៨០-១៩៩៩)\n៤. សាលាស្នេហាជាតិសម័យទំនើប (២០០០-បច្ចុប្បន្ន)",

                    'តើអ្វីជាស្នាដៃអក្សរសាស្ត្រដែលនិពន្ធដោយព្រះសង្ឃ?':
                        "ស្នាដៃព្រះសង្ឃ៖\n១. គម្ពីរធម្មបទរបស់ព្រះធម្មាវិន័យ (ស.វ.១៥)\n២. ជាតកវេស្សន្តរជាតកក្នុងរូបភាពខ្មែរ\n៣. កំណាព្យព្រះរាជពិធីចម្រើនព្រះជន្ម\n៤. សៀវភៅធម៌សម្រាប់បព្វជិតដែលបានចាក់អង្គាសពីសាលាបាលី\n៥. រឿងព្រេងសាសនាដូចជា ព្រះពិស្ណុការ និងព្រះធនញ្ជ័យ",

                    'តើអក្សរសាស្ត្រខ្មែរមានឥទ្ធិពលអ្វីខ្លះលើអក្សរសាស្ត្របរទេស?':
                        "ឥទ្ធិពលសំខាន់ៗ៖\n១. រាជបណ្ឌិត៖ បានបះឥទ្ធិពលដល់រឿងRamakienរបស់ថៃ\n២. រឿងព្រេងខ្មែរបានជះឥទ្ធិពលដល់សណ្តាប់ធ្នាប់រឿងរបស់ឡាវ\n៣. កំណាព្យខ្មែរបុរាណបានប៉ះពាល់ដល់របៀបនិពន្ធរបស់អ្នកនិពន្ធវៀតណាមខាងត្បូង\n៤. រឿងប្រលោមលោកសម័យអង្គរបានជះឥទ្ធិពលដល់អក្សរសាស្ត្រម៉ាឡេស៊ីសម័យម៉ាឡាកា",

                    'តើអ្វីជាប្រភេទរឿងប្រឌិតសម័យទំនើប?':
                        "ប្រភេទរឿងប្រឌិត៖\n១. រឿងប្រឌិតវប្បធម៌៖ ផ្តោតលើការរក្សាប្រពៃណីដូច រឿងអ្នកភូមិ\n២. រឿងប្រឌិតប្រវត្តិសាស្ត្រ៖ ដូចជា ស្នេហាសម័យអង្គរ\n៣. រឿងប្រឌិតសង្គម៖ វែកញែកបញ្ហាក្រីក្រ និងអភិវឌ្ឍន៍\n៤. រឿងប្រឌិតវិទ្យាសាស្ត្រ៖ ការស្រមើស្រមៃពីបច្ចេកវិទ្យាអនាគត\n៥. រឿងប្រឌិតកុមារ៖ ការបង្កើតរឿងសត្វនិយាយបានសម្រាប់កុមារ",

                    'តើអ្វីជាស្នាដៃអក្សរសាស្ត្រដែលនិពន្ធដោយព្រះមហាក្សត្រ?':
                        "ស្នាដៃរាជា៖\n១. ព្រះបាទនរោត្តម សីហនុ៖ កំណាព្យ ស្នេហាជាតិ និងរឿងខ្លីជាច្រើន\n២. ព្រះបាទសុីសុវត្ថិ មុនីវង្ស៖ ឯកសារប្រវត្តិសាស្ត្រសម័យអាណាព្យាបាល\n៣. ព្រះបាទនរោត្តម សីហមុនី៖ សៀវភៅព្រះរាជពង្សាវតារកម្ពុជាសម័យទំនើប\n៤. ព្រះករុណាស៊ីសុវត្ថិ៖ កំណាព្យស្នេហាជាតិនិងសន្តិភាព",

                    'តើអក្សរសាស្ត្រខ្មែរមានទំនៀមទាក់ទងនឹងពិធីបុណ្យអ្វីខ្លះ?':
                        "ទំនៀមបុណ្យ៖\n១. ភ្ជុំបិណ្ឌ៖ រឿងព្រេងអំពីមាតាបិតាដែលត្រូវបានរៀបរាប់ក្នុងកំណាព្យ\n២. បុណ្យចូលឆ្នាំ៖ កំណាព្យសួស្តីឆ្នាំដែលច្រៀងដោយអ្នកស្រុក\n៣. បុណ្យកឋិន៖ ធម្មបទសម្រាប់អ្នកបួសប្រគេនចីវរ\n៤. បុណ្យអុំទូក៖ រឿងព្រេងអំពីការប្រណាំងទូកនិងទេវតាទឹក\n៥. បុណ្យភ្ជុំដី៖ រឿងនិទានអំពីការគោរពធម្មជាតិ",


                    // Algebra (continued)
                    'តើរូបមន្តសម្រាប់រកផលគុណពីរដោយផលបូកនិងផលដកគឺអ្វី?':
                        '(a + b)(a - b) = a² - b² (ភាពខុសគ្នានៃការ៉េ)\n\nការពន្យល់៖ រូបមន្តនេះបង្ហាញពីការសម្រួលកន្សោមពីរដង\nឧទាហរណ៍៖ (3+2)(3-2) = 3² - 2² = 9 - 4 = 5\nការអនុវត្ត៖ ប្រើសម្រាប់ដោះស្រាយសមីការក្រាប និងកត្តាបំបែកពហុធា',

                    'តើរូបមន្តសម្រាប់រកគូបផលបូកគឺអ្វី?':
                        '(a + b)³ = a³ + 3a²b + 3ab² + b³\n\nការចែកជាជំហាន៖\n1. ពង្រីកដោយប្រើទ្រឹស្តីបទជ្រើសរើស\n2. គុណតាមពាក្យ (a+b)(a+b)(a+b)\n3. រក្សាទុកមេគុណតាមត្រីកោណបាស្កាល\nឧទាហរណ៍៖ (2+1)³ = 8 + 12 + 6 + 1 = 27',

                    'តើរូបមន្តលោការីតធម្មជាតិគឺអ្វី?':
                        'ln(ab) = ln(a) + ln(b)\nln(a/b) = ln(a) - ln(b)\nln(aⁿ) = n·ln(a)\n\nលក្ខណៈ៖\n- បម្រែបម្រួលគុណ→បូក\n- ប្រភាគ→ដក\n- អ៊ិចប៉ូណង់→មេគុណ\nឧទាហរណ៍៖ ln(2x) = ln2 + lnx',

                    // Geometry (continued)
                    'តើរូបមន្តរកក្រលាផ្ទៃកោនគឺអ្វី?':
                        'ក្រលាផ្ទៃកោន A = ½ × (b₁ + b₂) × h\n\nការពន្យល់៖\n- b₁,b₂ = ទំហំគោល២\n- h = កំពស់រវាងគោល\nឧទាហរណ៍៖ គោល១=5cm គោល២=7cm កំពស់=4cm\nA = ½×(5+7)×4 = 24cm²',

                    'តើរូបមន្តរកបរិមាណកោនគឺអ្វី?':
                        'បរិមាណកោន V = ⅓πr²h\n\nដំណើរការ៖\n1. គណនាផ្ទៃរង្វង់មូល (πr²)\n2. គុណនឹងកំពស់\n3. ចែកនឹង៣\nឧទាហរណ៍៖ r=3m h=6m\nV = ⅓×π×9×6 = 18π ≈56.55m³',

                    'តើរូបមន្តរកក្រលាផ្ទៃផ្ទៃកង់បាលគឺអ្វី?':
                        'ក្រលាផ្ទៃស្វ៊ែរ A = 4πr²\n\nសំខាន់៖\n- ទំនាក់ទំនងជាមួយបរិមាណ (V=4/3πr³)\n- ការអនុវត្ត៖ គណនាសម្ភារៈដណ្តប់បាល់\nឧទាហរណ៍៖ r=2m\nA = 4×π×4 = 16π ≈50.27m²',

                    // Calculus (continued)
                    'តើរូបមន្តដេរីវេនៃ ln(x) គឺអ្វី?':
                        'd/dx[ln(x)] = 1/x\n\nការបញ្ជាក់៖\n- ដេរីវេអ៊ីចនិងលោការីត\n- អនុវត្តន៍៖ គណនាអត្រាប្តូរក្នុងសេដ្ឋកិច្ច\nឧទាហរណ៍៖ ប្រសិន ln(x) តំណាងឱ្យកំណើនប្រាក់ចំណេញ\nដេរីវេ=1/x បង្ហាញអត្រាប្រែប្រួល',

                    'តើរូបមន្តអាំងតេក្រាលនៃ sin(x) គឺអ្វី?':
                        '∫sin(x) dx = -cos(x) + C\n\nដំណើរការ៖\n1. រកអង្គបដ្ឋាន\n2. បន្ថែមថេរអាំងតេក្រាល C\nឧទាហរណ៍៖ ∫₀^π sin(x) dx = [-cos(π)] - [-cos(0)] = 1 + 1 = 2',

                    'តើច្បាប់ខ្សែសង្វាក់សម្រាប់ដេរីវេគឺអ្វី?':
                        'd/dx[f(g(x))] = f\'(g(x))·g\'(x)\n\nជំហាន៖\n1. រកដេរីវេខាងក្រៅ (f\'\n2. រកដេរីវេខាងក្នុង (g\'\n3. គុណវាជាមួយគ្នា\nឧទាហរណ៍៖ d/dx[sin(2x)] = cos(2x)·2',

                    // Trigonometry (continued)
                    'តើរូបមន្តសម្រាប់ cos(A+B) គឺអ្វី?':
                        'cos(A+B) = cosAcosB - sinAsinB\n\nការចងចាំ៖\n"កូស៊ីនុសគុណគ្នា ដកស៊ីនុសគុណគ្នា"\nឧទាហរណ៍៖ cos(60°+30°) = cos90°=0\n= (0.5×√3/2) - (√3/2×0.5) = 0',

                    'តើរូបមន្តច្បាប់ស៊ីនុសគឺអ្វី?':
                        'a/sinA = b/sinB = c/sinC = 2R\n\nការអនុវត្ត៖\n- ដោះស្រាយត្រីកោណណាមួយពេលដឹង២មុំ១ជ្រុង\n- R=កាំរង្វង់ចារឹក\nឧទាហរណ៍៖ បើ a=5, A=30°, B=45°\n5/sin30 = b/sin45 → b=5×√2 ≈7.07',

                    'តើរូបមន្តច្បាប់កូស៊ីនុសគឺអ្វី?':
                        'c² = a² + b² - 2ab·cosC\n\nករណីពិសេស៖\n- ពេល C=90° → cos90=0 ⇒ទ្រឹស្តីបទពីថាហ្គ័រ\nឧទាហរណ៍៖ a=3, b=4, C=60°\nc²=9+16-24×0.5=13 ⇒c=√13≈3.606',

                    // Probability (continued)
                    'តើរូបមន្តសម្រាប់រកប្រូបាប៊ីលីតេសរុបគឺអ្វី?':
                        'P(A∪B) = P(A) + P(B) - P(A∩B)\n\nហៅថា "គោលការណ៍បូកបន្ថែម"\nឧទាហរណ៍៖ ប្រូបាប៊ីលីតេទឹកភ្លៀងថ្ងៃសៅរ៍=0.3 អាទិត្យ=0.4 ទាំង២ថ្ងៃ=0.1\nP(ភ្លៀងយ៉ាងហោចណាស់១ថ្ងៃ)=0.3+0.4-0.1=0.6',

                    'តើរូបមន្តប្រូបាប៊ីលីតេដោយលក្ខខណ្ឌគឺអ្វី?':
                        'P(A|B) = P(A∩B)/P(B)\n\nអានថា "ប្រូបាប៊ីលីតេ A ពេល B កើត"\nឧទាហរណ៍៖ P(ឈឺផ្តាសាយ|រដូវរងារ)=0.2/0.5=0.4',

                    'តើរូបមន្តសម្រាប់រកការប្រែប្រួលគឺអ្វី?':
                        'Var(X) = E[X²] - (E[X])²\n\nជំហាន៖\n1. គណនាមធ្យម\n2. គណនាមធ្យមការ៉េ\n3. ដកការ៉េមធ្យម\nឧទាហរណ៍៖ ទិន្នន័យ [2,4,6]\nE[X]=4, E[X²]=56/3 ⇒ Var=56/3-16=8/3',

                    // Advanced Formulas
                    'តើរូបមន្តអយល័រគឺអ្វី?':
                        'e^(iθ) = cosθ + i·sinθ\n\nសំខាន់៖\n- ភ្ជាប់អិចស្ប៉ូណង់ស្យែលនិងត្រីកោណមាត្រ\n- ឧទាហរណ៍៖ θ=π ⇒ e^(iπ)=-1',

                    'តើរូបមន្តសម្រាប់រកកត្តាកំណត់ម៉ាទ្រីស 2×2 គឺអ្វី?':
                        'det([[a,b],[c,d]]) = ad - bc\n\nការប្រើប្រាស់៖\n- រកចំពោះម៉ាទ្រីសបញ្ច្រាស\n- គណនាផ្ទៃបំលែងលីនេអ៊ែរ\nឧទាហរណ៍៖ det([[1,2],[3,4]])=4-6=-2',

                    'តើរូបមន្តសម្រាប់រកវ៉ិចទ័រកាត់គឺអ្វី?':
                        '||a×b|| = ||a||·||b||·sinθ\n\nលក្ខណៈ៖\n- ទំហំស្មើនឹងផ្ទៃប្រលេឡូក្រាម\n- ទិសកែងទៅនឹងaនិងbទាំងពីរ\nឧទាហរណ៍៖ a=(3,0), b=(0,4)\n||a×b||=3×4×1=12',

                    // Practical Applications
                    'តើរូបមន្តសម្រាប់គណនាការប្រាក់ធម្មតាគឺអ្វី?':
                        'I = P×r×t\n\nកន្សោម៖\n- P=មូលធនដើម\n- r=អត្រាការប្រាក់ប្រចាំឆ្នាំ\n- t=ពេលវេលា (ឆ្នាំ)\nឧទាហរណ៍៖ ប្រាក់ចំណូលលើ$1000 អត្រា5% រយៈ3ឆ្នាំ\nI=1000×0.05×3=$150',

                    'តើរូបមន្តសម្រាប់គណនាការប្រាក់សាច់ប្រាក់គឺអ្វី?':
                        'A = P(1 + r/n)^(nt)\n\nការពន្យល់៖\n- n=ចំនួនដងរួមក្នុង១ឆ្នាំ\n- t=ចំនួនឆ្នាំ\nឧទាហរណ៍៖ $1000 អត្រា5% រួមប្រចាំត្រីមាស (n=4) រយៈ2ឆ្នាំ\nA=1000×(1+0.05/4)^(8)≈$1104.49',

                    // Physics/Chemistry Formulas
                    'តើអ្វីជាច្បាប់អយុធ័រនៃអារក្ស?':
                        'F_b = ρ·g·V\n\nការពន្យល់៖\n- កម្លាំងអយុធ័រ = ដង់ស៊ីតេអារក្ស × ទំនាញ × ទំហំជំនួស\nឧទាហរណ៍៖ វត្ថុមួយជំនួសទឹក0.5m³\nF_b=1000kg/m³×9.8m/s²×0.5=4900N',

                    'តើសីតុណ្ហភាពអង្សាសេគឺអ្វី?':
                        '0K = -273.15°C\n\nសំខាន់៖\n- ទីតាំងសូន្យដាច់ខាតនៃសកម្មភាពម៉ូលេគុល\n- ប្រើក្នុងការគណនាឧស្សាហកម្មនិងវិទ្យាសាស្ត្រ\nឧទាហរណ៍៖ ការរក្សាឧស្ម័នរាវត្រូវការសីតុណ្ហភាពប្រហែល4K',

                    // Biology/Environmental Science
                    'តើអ្វីជាភាពខុសគ្នារវាងC3និងC4រុក្ខជាតិ?':
                        'C3៖ បំបែកCO₂ទៅPGAក្នុងរោមភ្នែក\nC4៖ បំបែកCO₂ទៅoxaloacetateមុនចូលរោមភ្នែក\n\nគុណសម្បត្តិC4៖\n- ប្រសិទ្ធភាពខ្ពស់នៅក្តៅ\n- កាត់បន្ថយphotorespiration\nឧទាហរណ៍៖ C3=ស្រូវ C4=ពោត',

                    'តើអ្វីជាវដ្តកាបូន?':
                        'ដំណើរការផ្លាស់ប្តូរកាបូនរវាង៖\n1. អាកាស (CO₂)\n2. សរីរាង្គ (រុក្ខជាតិ/សត្វ)\n3. ដី (សារធាតុសរីរាង្គ)\n4. ថាមពលថ្ម\n\nសំខាន់៖ រក្សាតុល្យភាពO₂/CO₂ក្នុងអាកាស',


                    // Computer Science

                    'តើអ្វីជាក្បួនដោះស្រាយ?':
                        'សំណុំជំហានដែលបានកំណត់ច្បាស់សម្រាប់ដោះស្រាយបញ្ហា\nលក្ខណៈល្អ៖\n1. ច្បាស់លាស់\n2. ចាប់ផ្តើម/ចប់\n3. ប្រសិទ្ធភាព\nឧទាហរណ៍៖ ក្បួនដោះស្រាយរៀបតាមលំដាប់',

                    'តើអ្វីជាទិន្នន័យធំ?':
                        'ការវិភាគសំណុំទិន្នន័យស្មុគស្មាញដោយប្រើ៖\n- Hadoop/Spark\n- Machine Learning\n- ការព្យាករណ៍ស្ថិតិ\nឧទាហរណ៍៖ ទិន្នន័យសង្គមមេឌា',

                    'តើព្រះបាទភវវរ្ម័នទី១ គ្រងរាជ្យនៅសតវត្សណា?':
                        `ព្រះបាទភវវរ្ម័នទី១ គ្រងរាជ្យនៅសតវត្សទី៦ (៥៥០-៦០០) ជាស្ដេចដំបូងនៃរាជវង្សចេនឡា។ ទ្រង់បានបង្រួបបង្រួមអាណាចក្រហ្វូណន និងចេនឡា ហើយបានយកព្រះពុទ្ធសាសនាមហាយានមកជាសាសនារបស់ព្រះរាជាណាចក្រ។`,

                    'តើព្រះបាទភវវរ្ម័នទី១ មានស្នាដៃសំខាន់អ្វីខ្លះ?':
                        `ស្នាដៃសំខាន់៖\n១. បង្រួបបង្រួមអាណាចក្រហ្វូណន និងចេនឡា\n២. បង្កើតរាជវង្សចេនឡា\n៣. ផ្សព្វផ្សាយព្រះពុទ្ធសាសនាមហាយាន\n៤. បង្កើតប្រព័ន្ធគ្រប់គ្រងថ្មី`,

                    'តើរាជធានីចេនឡានៅទីណា?':
                        `រាជធានីចេនឡាស្ថិតនៅឦសានបុរ (ខេត្តកំពង់ធំសព្វថ្ងៃ) និងចេនឡាទឹកលិច (តំបន់វ៉ាត់ភូសម័យនេះ)`,

                    'តើព្រះបាទមហេន្ទ្រវរ្ម័ន ជាស្ដេចអង្គណា?':
                        `ព្រះបាទមហេន្ទ្រវរ្ម័ន (៦១០-៦៣៥) ជាស្ដេចអង្គទី៣នៃចេនឡា ទ្រង់បានពង្រីកអំណាចចេនឡាទៅដល់តំបន់លាវ និងវៀតណាមខាងត្បូង។`,

                    // Angkor Period (9th-15th Century)
                    'តើព្រះបាទជ័យវរ្ម័នទី២ មានសារៈសំខាន់យ៉ាងណាក្នុងប្រវត្តិសាស្ត្រ?':
                        `ព្រះបាទជ័យវរ្ម័នទី២ (៨០២-៨៥០) ជាស្ថាបនិកអាណាចក្រអង្គរ។ ទ្រង់បាន៖\n១. បង្រួបបង្រួមកម្ពុជាទាំងមូល\n២. បង្កើតព្រះរាជធានីនៅភ្នំគូលែន\n៣. បង្កើតព្រះរាជាណាចក្រអង្គរ\n៤. បង្កើតទំនៀមទម្លាប់រាជានិយមថ្មី`,

                    'តើព្រះបាទជ័យវរ្ម័នទី៧ មានស្នាដៃអ្វីខ្លះ?':
                        `ស្នាដៃសំខាន់ៗរបស់ព្រះបាទជ័យវរ្ម័នទី៧ (១១៨១-១២១៨)៖\n១. សាងប្រាសាទបាយ័ន និងអង្គរធំ\n២. សាងផ្លូវថ្នល់ ស្ពាន និងអាស្រមមន្ទីរ ១០២ កន្លែង\n៣. ធ្វើព្រះពុទ្ធសាសនាមហាយានជាសាសនារដ្ឋ\n៤. ពង្រីកអំណាចអង្គរដល់អាណាខេត្តជាច្រើន`,

                    'តើព្រះបាទសូរ្យវរ្ម័នទី២ មានស្នាដៃអ្វី?':
                        `ព្រះបាទសូរ្យវរ្ម័នទី២ (១១១៣-១១៥០) ជាអ្នកសាងសង់ប្រាសាទអង្គរវត្ត។ ទ្រង់បាន៖\n១. សាងប្រាសាទអង្គរវត្តដែលឧទ្ទិសដល់ព្រះវិស្ណុ\n២. ពង្រីកអំណាចអង្គរដល់វៀតណាម និងថៃ\n៣. បង្កើតប្រព័ន្ធធារាសាស្ត្រដ៏ធំ`,

                    // Post-Angkor Period (15th-19th Century)
                    'តើព្រះបាទពញាយ៉ាត ជាអ្នកធ្វើអ្វី?':
                        `ព្រះបាទពញាយ៉ាត (១៤៧៦-១៥០៤) ជាស្ដេចសម័យចតុមុខ។ ទ្រង់បាន៖\n១. ផ្លាស់រាជធានីពីអង្គរមកចតុមុខ (ភ្នំពេញសព្វថ្ងៃ)\n២. បង្កើតរាជធានីថ្មីនៅត្រើយខាងកើតនៃទន្លេចតុមុខ\n៣. ជាស្ដេចចុងក្រោយដែលមានអំណាចលើអង្គរ`,

                    // Modern Period (19th Century-Present)
                    'តើព្រះបាទនរោត្តម មានសារៈសំខាន់យ៉ាងណា?':
                        `ព្រះបាទនរោត្តម (១៨៦០-១៩០៤) ជាស្ដេចក្នុងសម័យអាណាព្យាបាលបារាំង។ ទ្រង់បាន៖\n១. ចុះសន្ធិសញ្ញាជាមួយបារាំងឆ្នាំ១៨៦៣\n២. ផ្លាស់រាជធានីមកភ្នំពេញជាអចិន្ត្រៃយ៍\n៣. បង្កើតប្រព័ន្ធរដ្ឋបាលរដ្ឋាភិបាលថ្មី`,

                    // Additional questions...
                    'តើព្រះបាទជ័យវរ្ម័នទី៧ បានសាងប្រាសាទអ្វីខ្លះ?':
                        `ព្រះបាទជ័យវរ្ម័នទី៧ បានសាងប្រាសាទសំខាន់ៗដូចជា៖\n១. ប្រាសាទបាយ័ន\n២. អង្គរធំ\n៣. តាព្រហ្ម\n៤. ប្រាសាទនាគព័ន្ធ\n៥. អាស្រមមន្ទីរ ១០២ កន្លែង`,

                    'តើព្រះបាទជ័យវរ្ម័នទី៧ មាននយោបាយអ្វីខ្លះ?':
                        `នយោបាយសំខាន់ៗរបស់ព្រះបាទជ័យវរ្ម័នទី៧៖\n១. នយោបាយសង្គមកិច្ច (សាងអាស្រមមន្ទីរ និងមន្ទីរពេទ្យ)\n២. នយោបាយសាសនា (លើកស្ទួយព្រះពុទ្ធសាសនាមហាយាន)\n៣. នយោបាយការពារប្រទេស (សាងបន្ទាយយ៉ាងរឹងមាំ)`,

                    // Continue with more questions...
                    'តើរាជវង្សចេនឡាបែងចែកជាប៉ុន្មានផ្នែក?':
                        `រាជវង្សចេនឡាបែងចែកជា២ផ្នែក៖\n១. ចេនឡាដីគោក (រាជធានីនៅសម្ភុបុរៈ)\n២. ចេនឡាទឹកលិច (រាជធានីនៅឦសានបុរៈ)`,

                    'តើព្រះបាទឦសានវរ្ម័ន មានសារៈសំខាន់យ៉ាងណា?':
                        `ព្រះបាទឦសានវរ្ម័ន (៦១៦-៦៣៧) ជាស្ដេចដ៏សំខាន់នៃចេនឡា។ ទ្រង់បាន៖\n១. បង្រួបបង្រួមចេនឡាទាំងពីរ\n២. បង្កើតរាជធានីថ្មីនៅឦសានបុរៈ\n៣. ពង្រីកអំណាចដល់វៀតណាមខាងត្បូង`,


                }
            },

            // Check if a user message matches any FAQ with improved matching
            checkForFAQ(message) {
                // Check cache first
                const cachedResponse = this.responseCache.get(message);
                if (cachedResponse && (Date.now() - cachedResponse.timestamp) < this.CACHE_TTL) {
                    return cachedResponse.result;
                }

                const lowerMessage = message.toLowerCase();
                const tokens = LanguageProcessor.tokenize(lowerMessage);

                // First check exact matches in FAQ questions
                for (const faq of this.faqData) {
                    for (const question of faq.questions) {
                        if (lowerMessage.includes(question.toLowerCase())) {
                            this.responseCache.set(message, { result: faq.answer, timestamp: Date.now() });
                            return faq.answer;
                        }
                    }
                }

                // Then check for keywords with similarity threshold
                for (const faq of this.faqData) {
                    let keywordMatchCount = 0;
                    for (const keyword of faq.keywords) {
                        if (lowerMessage.includes(keyword.toLowerCase())) {
                            keywordMatchCount++;
                            // If we have at least 2 keyword matches, return the answer
                            if (keywordMatchCount >= 2) {
                                this.responseCache.set(message, { result: faq.answer, timestamp: Date.now() });
                                return faq.answer;
                            }
                        }
                    }
                }

                // Check token similarity with FAQ questions
                for (const faq of this.faqData) {
                    for (const question of faq.questions) {
                        const similarity = LanguageProcessor.calculateSimilarity(message, question);
                        if (similarity > 0.6) { // Threshold for considering it a match
                            this.responseCache.set(message, { result: faq.answer, timestamp: Date.now() });
                            return faq.answer;
                        }
                    }
                }

                // Finally check the responses.faqs object
                for (const [question, answer] of Object.entries(this.responses.faqs)) {
                    if (lowerMessage.includes(question.toLowerCase())) {
                        this.responseCache.set(message, { result: answer, timestamp: Date.now() });
                        return answer;
                    }

                    // Also check for similarity
                    const similarity = LanguageProcessor.calculateSimilarity(message, question);
                    if (similarity > 0.6) {
                        this.responseCache.set(message, { result: answer, timestamp: Date.now() });
                        return answer;
                    }
                }

                return null; // No FAQ match found
            },

            generate(userMessage) {
                // Context tracking and enhanced response generation
                const analysis = LanguageProcessor.detectIntent(userMessage);

                // If English is detected, immediately return a message to type in Khmer
                if (analysis.intent === 'english_detected') {
                    const responses = this.responses.english_detected;
                    return responses[Math.floor(Math.random() * responses.length)];
                }

                // First check if this matches any FAQ
                const faqResponse = this.checkForFAQ(userMessage);
                if (faqResponse) {
                    return faqResponse;
                }

                let responseType = analysis.intent;

                // If default intent but with sentiment, use sentiment-specific responses
                if (responseType === 'default' && analysis.sentiment === 'positive') {
                    responseType = 'positiveDefault';
                } else if (responseType === 'default' && analysis.sentiment === 'negative') {
                    responseType = 'negativeDefault';
                }

                // Use contextually appropriate responses
                const responses = this.responses[responseType];
                const response = responses[Math.floor(Math.random() * responses.length)];

                // Cache the generated response
                this.responseCache.set(userMessage, { result: response, timestamp: Date.now() });
                return response;
            }
        };

        // Chat Manager - coordinates all interactions with performance optimizations
        const ChatManager = {
            // Track conversation context
            conversationContext: [],
            // Maximum context items to keep
            MAX_CONTEXT_ITEMS: 5,
            // Similar questions container
            similarQuestionsContainer: null,
            // Timeout for typing debounce
            typingTimeout: null,

            init() {
                try {
                    ThemeManager.init();
                    ChatUI.init();

                    // Create similar questions container
                    this.createSimilarQuestionsContainer();

                    messageForm.addEventListener('submit', (e) => this.handleSendMessage(e));
                    messageInput.addEventListener('input', () => {
                        ChatUI.updateSendButtonState();
                        this.handleUserTyping();
                    });

                    // Focus input on page load
                    messageInput.focus();

                    // Set initial message
                    ChatUI.setInitialGreeting();
                    ChatUI.updateSendButtonState();
                } catch (e) {
                    console.error('Chat initialization failed:', e);
                }
            },

            createSimilarQuestionsContainer() {
                this.similarQuestionsContainer = document.createElement('div');
                this.similarQuestionsContainer.className = 'similar-questions-container';
                this.similarQuestionsContainer.style.display = 'none';

                // Style the container
                this.similarQuestionsContainer.style.position = 'absolute';
                this.similarQuestionsContainer.style.bottom = '100%';
                this.similarQuestionsContainer.style.left = '0';
                this.similarQuestionsContainer.style.width = '100%';
                this.similarQuestionsContainer.style.borderRadius = '4px';
                this.similarQuestionsContainer.style.maxHeight = '200px';
                this.similarQuestionsContainer.style.overflowY = 'auto';
                this.similarQuestionsContainer.style.zIndex = '1000';

                // Use CSS variables for theme-aware styling
                this.similarQuestionsContainer.style.backgroundColor = 'var(--suggestions-bg, #f8f9fa)';
                this.similarQuestionsContainer.style.border = '1px solid var(--suggestions-border, #ddd)';
                this.similarQuestionsContainer.style.boxShadow = '0 2px 4px var(--suggestions-shadow, rgba(0,0,0,0.1))';
                this.similarQuestionsContainer.style.color = 'var(--suggestions-text, #333)';

                // Add to the message form
                messageForm.style.position = 'relative';
                messageForm.appendChild(this.similarQuestionsContainer);
            },

            handleUserTyping() {
                // Clear any existing timeout
                if (this.typingTimeout) {
                    clearTimeout(this.typingTimeout);
                }

                // Only show suggestions if there's text
                const query = messageInput.value.trim();
                if (query.length < 2) {
                    this.hideSimilarQuestions();
                    return;
                }

                // Debounce to avoid too many updates while typing
                this.typingTimeout = setTimeout(() => {
                    this.showSimilarQuestions(query);
                }, 300);
            },

            showSimilarQuestions(query) {
                // Get similar questions from FAQ data
                const similarQuestions = this.findSimilarQuestions(query);

                // Clear previous suggestions
                this.similarQuestionsContainer.innerHTML = '';

                if (similarQuestions.length === 0) {
                    this.hideSimilarQuestions();
                    return;
                }

                // Add each similar question
                similarQuestions.forEach(question => {
                    const questionElement = document.createElement('div');
                    questionElement.className = 'similar-question';
                    questionElement.textContent = question;

                    // Style each question item
                    questionElement.style.padding = '8px 12px';
                    questionElement.style.cursor = 'pointer';
                    questionElement.style.borderBottom = '1px solid #eee';

                    // Highlight matching parts
                    const lowerQuery = query.toLowerCase();
                    const lowerQuestion = question.toLowerCase();
                    if (lowerQuestion.includes(lowerQuery)) {
                        const start = question.toLowerCase().indexOf(lowerQuery);
                        const end = start + query.length;
                        const highlighted = question.substring(0, start) +
                            '<strong>' + question.substring(start, end) + '</strong>' +
                            question.substring(end);
                        questionElement.innerHTML = highlighted;
                    }

                    // Add hover effect
                    questionElement.addEventListener('mouseover', () => {
                        questionElement.style.backgroundColor = '#e9ecef';
                    });
                    questionElement.addEventListener('mouseout', () => {
                        questionElement.style.backgroundColor = 'transparent';
                    });

                    // Click handler to select the question
                    questionElement.addEventListener('click', () => {
                        messageInput.value = question;
                        this.hideSimilarQuestions();
                        messageInput.focus();
                    });

                    this.similarQuestionsContainer.appendChild(questionElement);
                });

                this.similarQuestionsContainer.style.display = 'block';
            },

            hideSimilarQuestions() {
                this.similarQuestionsContainer.style.display = 'none';
            },

            findSimilarQuestions(query) {
                const lowerQuery = query.toLowerCase();
                const similarQuestions = [];

                // Check all FAQ questions for matches
                for (const faq of ResponseGenerator.faqData) {
                    for (const question of faq.questions) {
                        const lowerQuestion = question.toLowerCase();
                        if (lowerQuestion.includes(lowerQuery)) {
                            similarQuestions.push(question);
                        }
                    }
                }

                // Also check the responses.faqs object
                for (const question of Object.keys(ResponseGenerator.responses.faqs)) {
                    const lowerQuestion = question.toLowerCase();
                    if (lowerQuestion.includes(lowerQuery)) {
                        similarQuestions.push(question);
                    }
                }

                // Sort by relevance (shorter matches first)
                similarQuestions.sort((a, b) => {
                    const aPos = a.toLowerCase().indexOf(lowerQuery);
                    const bPos = b.toLowerCase().indexOf(lowerQuery);
                    return aPos - bPos || a.length - b.length;
                });

                // Return only the top 5 most relevant
                return similarQuestions.slice(0, 5);
            },

            handleSendMessage(e) {
                e.preventDefault();

                try {
                    const message = messageInput.value.trim();
                    if (!message) return;

                    // Hide similar questions when sending
                    this.hideSimilarQuestions();

                    // Add user message
                    ChatUI.addMessage(message, true);
                    messageInput.value = '';
                    ChatUI.updateSendButtonState();

                    // Update conversation context
                    this.updateContext({ role: 'user', content: message });

                    // Simulate AI thinking and responding
                    this.simulateResponse(message);
                } catch (e) {
                    console.error('Failed to handle message:', e);
                }
            },

            updateContext(message) {
                this.conversationContext.push(message);
                // Keep only the most recent messages
                if (this.conversationContext.length > this.MAX_CONTEXT_ITEMS) {
                    this.conversationContext.shift();
                }
            },

            simulateResponse(userMessage) {
                try {
                    // Show typing indicator
                    const typingIndicator = ChatUI.createTypingIndicator();

                    // Calculate dynamic delay based on message complexity
                    const baseDelay = 800; // Reduced base delay for faster response
                    const isEnglish = LanguageProcessor.isEnglish(userMessage);
                    const complexityFactor = isEnglish ? 0.3 : Math.min(userMessage.length / 30, 2); // Adjusted factors
                    const randomVariation = Math.random() * 300; // Reduced variation
                    const typingDelay = baseDelay + (complexityFactor * 300) + randomVariation;

                    // Generate and display response after appropriate delay
                    setTimeout(() => {
                        try {
                            typingIndicator.remove();
                            const response = ResponseGenerator.generate(userMessage);
                            ChatUI.addMessage(response);

                            // Update conversation context with AI response
                            this.updateContext({ role: 'ai', content: response });
                        } catch (e) {
                            console.error('Failed to generate response:', e);
                            ChatUI.addMessage("កំហុសបានកើតឡើងក្នុងការឆ្លើយតប។ សូមព្យាយាមម្តងទៀត។");
                        }
                    }, typingDelay);
                } catch (e) {
                    console.error('Failed to simulate response:', e);
                }
            }
        };

        // Initialize the application when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            try {
                ChatManager.init();
            } catch (e) {
                console.error('Application initialization failed:', e);
            }
        });
    </script>
</body>

</html>
